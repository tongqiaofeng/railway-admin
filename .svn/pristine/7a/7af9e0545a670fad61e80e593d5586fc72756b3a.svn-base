{"remainingRequest":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\my-projects\\railway-admin\\src\\components\\Materials-examination.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\aa-tong\\my-projects\\railway-admin\\src\\components\\Materials-examination.vue","mtime":1615528895330},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlQm9udXNOYW1lOiAnbm90Q2hlY2snLAogICAgICBrZXl3b3JkOiAnJywKICAgICAgdXNlcklkOiAnJywKICAgICAgcGVvcGxlTGlzdDogW10sCiAgICAgIHN0YXJ0VGltZTogJycsCiAgICAgIGVuZFRpbWU6ICcnLAogICAgICBwYWdlOiAxLAogICAgICBwYWdlTnVtOiAxMCwKICAgICAgdG90YWw6IDAsCiAgICAgIGFwcGx5RXhhbUxpc3Q6IFtdLAogICAgICBhcHBseUV4YW1Nc2c6ICfmlbDmja7liqDovb3kuK0nLAogICAgICBkaWFsb2dEZXRhaWxzQXBwbHlWaXNpYmxlOiBmYWxzZSwKICAgICAgYXBwbHlEZXRhaWxzT25lOiB7fSwKCiAgICAgIGFwcGx5RGVsdGFpbDoge30sCiAgICAgIGRpYWxvZ0V4YW1BcHBseVZpc2libGU6IGZhbHNlLAogICAgICBzdGF0ZTogJzEnLAogICAgICByZWZ1c2VOb3RlOiAnJywKCiAgICAgIGFwcGx5RGV0YWlsc1R3bzoge30sCiAgICAgIGRpYWxvZ0RldGFpbHNBcHBseVR3b1Zpc2libGU6IGZhbHNlLAoKICAgICAgYXBwbHlEZXRhaWxzVGhyZWU6IHt9LAogICAgICBkaWFsb2dEZXRhaWxzQXBwbHlUaHJlZVZpc2libGU6IGZhbHNlLAoKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEFwcGxpY2FudExpc3QoKTsKICAgIHRoaXMuZXhhbUtleXdvcmRDaGVjaygpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5a6h5om5CiAgICBleGFtQXBwbHkoZGV0YWlscykgewogICAgICB0aGlzLmFwcGx5RGVsdGFpbCA9IGRldGFpbHM7CiAgICAgIHRoaXMuZGlhbG9nRXhhbUFwcGx5VmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuc3RhdGUgPSAnMSc7CiAgICAgIHRoaXMucmVmdXNlTm90ZSA9ICcnOwogICAgfSwKICAgIC8vIOehruWumgogICAgZXhhbUFwcGx5U3VyZSgpIHsKICAgICAgbGV0IHBhcmFtczsKICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gMSkgewogICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgIGlkOiB0aGlzLmFwcGx5RGVsdGFpbC5pZCwKICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICBpZDogdGhpcy5hcHBseURlbHRhaWwuaWQsCiAgICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZSwKICAgICAgICAgIHJlZnVzZU5vdGU6IHRoaXMucmVmdXNlTm90ZQogICAgICAgIH07CiAgICAgIH0KICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLiRzdG9yZS5zdGF0ZS5iYXNlVXJsICsgJy9jaGVja0FwcGx5JywgcGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ+WuoeaJueeUs+ivtycpOwogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHsKICAgICAgICAgIG1lc3NhZ2U6ICflrqHmibnmiJDlip8nLAogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICB9KTsKICAgICAgICB0aGlzLmRpYWxvZ0V4YW1BcHBseVZpc2libGUgPSBmYWxzZTsKICAgICAgICB0aGlzLmV4YW1LZXl3b3JkQ2hlY2soKTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgbWVzc2FnZTogZXJyLmRhdGEubWVzc2FnZSwKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5kaWFsb2dFeGFtQXBwbHlWaXNpYmxlID0gZmFsc2U7CiAgICAgIH0pCiAgICB9LAogICAgLy8g5p+l55yL6K+m5oOFCiAgICBkZXRhaWxzQXBwbHkoZGV0YWlscykgewogICAgICBjb25zb2xlLmxvZyhkZXRhaWxzKTsKICAgICAgdGhpcy5hcHBseURldGFpbHNPbmUgPSBkZXRhaWxzOwogICAgICB0aGlzLmRpYWxvZ0RldGFpbHNBcHBseVZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGRldGFpbHNBcHBseVR3byhkZXRhaWxzKSB7CiAgICAgIGNvbnNvbGUubG9nKGRldGFpbHMpOwogICAgICB0aGlzLmFwcGx5RGV0YWlsc1R3byA9IGRldGFpbHM7CiAgICAgIHRoaXMuZGlhbG9nRGV0YWlsc0FwcGx5VHdvVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgZGV0YWlsc0FwcGx5VGhyZWUoZGV0YWlscykgewogICAgICBjb25zb2xlLmxvZyhkZXRhaWxzKTsKICAgICAgdGhpcy5hcHBseURldGFpbHNUaHJlZSA9IGRldGFpbHM7CiAgICAgIHRoaXMuZGlhbG9nRGV0YWlsc0FwcGx5VGhyZWVWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDojrflj5bnlLPor7fliJfooagKICAgIGV4YW1LZXl3b3JkQ2hlY2soKSB7CiAgICAgIHRoaXMuYXBwbHlFeGFtTGlzdCA9IFtdOwogICAgICB0aGlzLmFwcGx5RXhhbU1zZyA9ICfmlbDmja7liqDovb3kuK0nOwogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJHN0b3JlLnN0YXRlLmJhc2VVcmwgKyAnL2FwcGx5TGlzdCcsIHsKICAgICAgICBmbGFnOiAxLAogICAgICAgIHN0YXRlOiB0aGlzLmFjdGl2ZUJvbnVzTmFtZSA9PSAnbm90Q2hlY2snID8gMCA6ICh0aGlzLmFjdGl2ZUJvbnVzTmFtZSA9PSAnY2hlY2tlZCcgPyAxIDogLTEpLAogICAgICAgIHVzZXJJZDogdGhpcy51c2VySWQsCiAgICAgICAgc3RhcnRUaW1lOiB0aGlzLnN0YXJ0VGltZSwKICAgICAgICBlbmRUaW1lOiB0aGlzLmVuZFRpbWUsCiAgICAgICAga2V5d29yZDogdGhpcy5rZXl3b3JkLAogICAgICAgIHBhZ2U6IHRoaXMucGFnZSwKICAgICAgICBwYWdlTnVtOiB0aGlzLnBhZ2VOdW0KICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCfnlLPor7fliJfooagnKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMuYXBwbHlFeGFtTGlzdCA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICAgIGlmICh0aGlzLmFwcGx5RXhhbUxpc3QubGVuZ3RoID09IDApIHsKICAgICAgICAgIHRoaXMuYXBwbHlFeGFtTXNnID0gJ+aaguaXoOaVsOaNric7CiAgICAgICAgfTsKICAgICAgICBpZiAodGhpcy5hY3RpdmVCb251c05hbWUgPT0gJ25vdENoZWNrJykgewogICAgICAgICAgaWYgKHRoaXMuYXBwbHlFeGFtTGlzdC5sZW5ndGggIT09IDApIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnbm90Q2hlY2snLCAwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ25vdENoZWNrJywgMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pCiAgICB9LAogICAgLy8g5YiG6aG1CiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsKICAgICAgdGhpcy5wYWdlID0gdmFsOwogICAgICAoZnVuY3Rpb24gc21vb3Roc2Nyb2xsKCkgewogICAgICAgIGxldCBjdXJyZW50U2Nyb2xsID0KICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CiAgICAgICAgaWYgKGN1cnJlbnRTY3JvbGwgPiAwKSB7CiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNtb290aHNjcm9sbCk7CiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgY3VycmVudFNjcm9sbCAtIGN1cnJlbnRTY3JvbGwgLyA1KTsKICAgICAgICB9CiAgICAgIH0pKCk7CiAgICAgIHRoaXMuZXhhbUtleXdvcmRDaGVjaygpOwogICAgfSwKICAgIC8vIOiOt+WPlueUs+ivt+S6uuWIl+ihqAogICAgZ2V0QXBwbGljYW50TGlzdCgpIHsKICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLiRzdG9yZS5zdGF0ZS5iYXNlVXJsICsgJy9hcHBsaWNhbnRMaXN0JykudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCfnlLPor7fkuronKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMucGVvcGxlTGlzdCA9IHJlcy5kYXRhOwogICAgICB9KQogICAgfSwKCiAgICBoYW5kbGVCb251c1RhYnNDbGljaygpIHsKICAgICAgdGhpcy5wYWdlID0gMTsKICAgICAgdGhpcy5leGFtS2V5d29yZENoZWNrKCk7CiAgICB9LAoKICB9Cn0K"},{"version":3,"sources":["Materials-examination.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"Materials-examination.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"materials-examination-container\" id=\"materials-examination\">\r\n    <!-- 材料申请 -->\r\n    <div class=\"examination-top\">\r\n      <el-form inline label-position=\"left\">\r\n        <el-form-item label=\"申请人：\" label-width=\"70px\">\r\n          <el-select v-model=\"userId\" clearable>\r\n            <el-option v-for=\"user in peopleList\" :key=\"user.id\" :label=\"user.applyName\" :value=\"user.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"开始时间：\" label-width=\"85px\">\r\n          <el-date-picker v-model=\"startTime\" type=\"date\" value-format=\"yyyy-MM-dd\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"结束时间：\" label-width=\"85px\">\r\n          <el-date-picker v-model=\"endTime\" type=\"date\" value-format=\"yyyy-MM-dd\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <div style=\"display: flex;\">\r\n            <el-input style=\"width: 400px;\" v-model=\"keyword\" placeholder=\"可输入申请备注、设备名称、拒绝原因进行搜索\" clearable>\r\n            </el-input>\r\n            <el-button style=\"margin-left: 10px;\" type=\"primary\" @click=\"examKeywordCheck\">查 询\r\n            </el-button>\r\n          </div>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div>\r\n      <el-tabs type=\"border-card\" v-model=\"activeBonusName\" @tab-click=\"handleBonusTabsClick\">\r\n        <el-tab-pane label=\"未审批\" name=\"notCheck\">\r\n          <div v-if=\"applyExamList.length == 0\" style=\"text-align: center;\">\r\n            <p>{{applyExamMsg}}</p>\r\n          </div>\r\n          <div v-else>\r\n            <div v-for=\"history in applyExamList\" :key=\"history.id\">\r\n              <div style=\"display: flex;justify-content: space-between;\">\r\n                <div style=\"display: flex;\">\r\n                  <p><span style=\"font-size: 18px;font-weight: bold;\">申请人：</span>{{history.applyName}}\r\n                  </p>\r\n                  <p style=\"margin-left: 20px;\"><span\r\n                      style=\"font-size: 18px;font-weight: bold;\">申请时间：</span>{{history.subTime}}\r\n                  </p>\r\n                </div>\r\n                <div style=\"line-height: 56px;\">\r\n                  <el-button type=\"text\" @click=\"detailsApply(history)\">详情</el-button>\r\n                  <el-dialog title=\"申请单详情\" :visible.sync=\"dialogDetailsApplyVisible\" :close-on-press-escape=\"false\"\r\n                    :close-on-click-modal=\"false\" :modal-append-to-body=\"false\" :append-to-body=\"true\" width=\"750px\">\r\n                    <div>\r\n                      <p>申请人：{{applyDetailsOne.applyName}}</p>\r\n                      <p>申请时间：{{applyDetailsOne.subTime}}</p>\r\n                      <p>备注：{{applyDetailsOne.applyNote}}</p>\r\n                      <p>设备列表：</p>\r\n                      <el-table :data=\"applyDetailsOne.deviceList\" style=\"width: 100%\" border>\r\n                        <el-table-column prop=\"deviceName\" label=\"设备名称\">\r\n                        </el-table-column>\r\n                        <el-table-column prop=\"deviceModel\" label=\"设备型号\">\r\n                        </el-table-column>\r\n                        <el-table-column prop=\"deviceNum\" label=\"申请数量\">\r\n                        </el-table-column>\r\n                        <el-table-column prop=\"supplierName\" label=\"所属厂家\">\r\n                        </el-table-column>\r\n                        <el-table-column prop=\"systemName\" label=\"所属系统\">\r\n                        </el-table-column>\r\n                      </el-table>\r\n                    </div>\r\n                    <div slot=\"footer\">\r\n                      <el-button @click=\"dialogDetailsApplyVisible = false\">取 消</el-button>\r\n                      <el-button type=\"primary\" @click=\"dialogDetailsApplyVisible = false\">确 定</el-button>\r\n                    </div>\r\n                  </el-dialog>\r\n                  <el-button style=\"margin-left: 30px;\" type=\"text\" @click=\"examApply(history)\">审批</el-button>\r\n                  <el-dialog title=\"申请单审批\" :visible.sync=\"dialogExamApplyVisible\" :close-on-press-escape=\"false\"\r\n                    :close-on-click-modal=\"false\" :modal-append-to-body=\"false\" :append-to-body=\"true\">\r\n                    <div>\r\n                      <div>\r\n                        <el-radio v-model=\"state\" label=\"1\">通过</el-radio>\r\n                        <el-radio v-model=\"state\" label=\"-1\">拒绝</el-radio>\r\n                      </div>\r\n                      <div v-if=\"state == -1\" style=\"display: flex;margin-top: 20px;\">\r\n                        <span>拒绝理由：</span>\r\n                        <el-input style=\"width: 400px;\" type=\"textarea\" v-model=\"refuseNote\"></el-input>\r\n                      </div>\r\n                    </div>\r\n                    <div slot=\"footer\">\r\n                      <el-button @click=\"dialogExamApplyVisible = false\">取 消</el-button>\r\n                      <el-button type=\"primary\" @click=\"examApplySure\" v-preventClick>确 定</el-button>\r\n                    </div>\r\n                  </el-dialog>\r\n                </div>\r\n              </div>\r\n              <el-table :data=\"history.deviceList\" style=\"width: 100%\" border>\r\n                <el-table-column prop=\"deviceName\" label=\"设备名称\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"deviceModel\" label=\"设备型号\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"deviceNum\" label=\"申请数量\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"supplierName\" label=\"所属厂家\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"systemName\" label=\"所属系统\">\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n            <div style=\"width: 100%;height: 50px;\">\r\n              <div style=\"margin:15px 0;position:absolute;right:6%;\">\r\n                <el-pagination @current-change=\"handleCurrentChange\" :current-page=\"page\"\r\n                  layout=\"total, prev, pager, next, jumper\" :total=\"total\">\r\n                </el-pagination>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"已审批\" name=\"checked\">\r\n          <div v-if=\"applyExamList.length == 0\" style=\"text-align: center;\">\r\n            <p>{{applyExamMsg}}</p>\r\n          </div>\r\n          <div v-else>\r\n            <div v-for=\"history in applyExamList\" :key=\"history.id\">\r\n              <div style=\"display: flex;justify-content: space-between;\">\r\n                <div style=\"display: flex;\">\r\n                  <p><span style=\"font-size: 18px;font-weight: bold;\">申请人：</span>{{history.applyName}}\r\n                  </p>\r\n                  <p style=\"margin-left: 20px;\"><span\r\n                      style=\"font-size: 18px;font-weight: bold;\">申请时间：</span>{{history.subTime}}\r\n                  </p>\r\n                  <p style=\"margin-left: 20px;\"><span\r\n                      style=\"font-size: 18px;font-weight: bold;\">审批时间：</span>{{history.checkTime}}\r\n                  </p>\r\n                </div>\r\n                <el-button type=\"text\" @click=\"detailsApplyTwo(history)\">详情</el-button>\r\n                <el-dialog title=\"申请单详情\" :visible.sync=\"dialogDetailsApplyTwoVisible\" :close-on-press-escape=\"false\"\r\n                  :close-on-click-modal=\"false\" :modal-append-to-body=\"false\" :append-to-body=\"true\" width=\"750px\">\r\n                  <div>\r\n                    <p>申请人：{{applyDetailsTwo.applyName}}</p>\r\n                    <p>申请时间：{{applyDetailsTwo.subTime}}</p>\r\n                    <p>备注：{{applyDetailsTwo.applyNote}}</p>\r\n                    <p>审批人：{{applyDetailsTwo.checkName}}</p>\r\n                    <p>审批时间：{{applyDetailsTwo.checkTime}}</p>\r\n                    <p>设备列表：</p>\r\n                    <el-table :data=\"applyDetailsTwo.deviceList\" style=\"width: 100%\" border>\r\n                      <el-table-column prop=\"deviceName\" label=\"设备名称\">\r\n                      </el-table-column>\r\n                      <el-table-column prop=\"deviceModel\" label=\"设备型号\">\r\n                      </el-table-column>\r\n                      <el-table-column prop=\"deviceNum\" label=\"申请数量\">\r\n                      </el-table-column>\r\n                      <el-table-column prop=\"supplierName\" label=\"所属厂家\">\r\n                      </el-table-column>\r\n                      <el-table-column prop=\"systemName\" label=\"所属系统\">\r\n                      </el-table-column>\r\n                    </el-table>\r\n                  </div>\r\n                  <div slot=\"footer\">\r\n                    <el-button @click=\"dialogDetailsApplyTwoVisible = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"dialogDetailsApplyTwoVisible = false\">确 定</el-button>\r\n                  </div>\r\n                </el-dialog>\r\n              </div>\r\n              <el-table :data=\"history.deviceList\" style=\"width: 100%\" border>\r\n                <el-table-column prop=\"deviceName\" label=\"设备名称\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"deviceModel\" label=\"设备型号\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"deviceNum\" label=\"申请数量\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"supplierName\" label=\"所属厂家\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"systemName\" label=\"所属系统\">\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n            <div style=\"width: 100%;height: 50px;\">\r\n              <div style=\"margin:15px 0;position:absolute;right:6%;\">\r\n                <el-pagination @current-change=\"handleCurrentChange\" :current-page=\"page\"\r\n                  layout=\"total, prev, pager, next, jumper\" :total=\"total\">\r\n                </el-pagination>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"已拒绝\" name=\"refuse\">\r\n          <div v-if=\"applyExamList.length == 0\" style=\"text-align: center;\">\r\n            <p>{{applyExamMsg}}</p>\r\n          </div>\r\n          <div v-else>\r\n            <div v-for=\"history in applyExamList\" :key=\"history.id\">\r\n              <div style=\"display: flex;justify-content: space-between;\">\r\n                <div style=\"display: flex;\">\r\n                  <p><span style=\"font-size: 18px;font-weight: bold;\">申请人：</span>{{history.applyName}}\r\n                  </p>\r\n                  <p style=\"margin-left: 20px;\"><span\r\n                      style=\"font-size: 18px;font-weight: bold;\">申请时间：</span>{{history.subTime}}\r\n                  </p>\r\n                  <p style=\"margin-left: 20px;\"><span\r\n                      style=\"font-size: 18px;font-weight: bold;\">审批时间：</span>{{history.checkTime}}\r\n                  </p>\r\n                </div>\r\n                <el-button type=\"text\" @click=\"detailsApplyThree(history)\">详情</el-button>\r\n                <el-dialog title=\"申请单详情\" :visible.sync=\"dialogDetailsApplyThreeVisible\" :close-on-press-escape=\"false\"\r\n                  :close-on-click-modal=\"false\" :modal-append-to-body=\"false\" :append-to-body=\"true\" width=\"750px\">\r\n                  <div>\r\n                    <p>申请人：{{applyDetailsThree.applyName}}</p>\r\n                    <p>申请时间：{{applyDetailsThree.subTime}}</p>\r\n                    <p>备注：{{applyDetailsThree.applyNote}}</p>\r\n                    <p>审批人：{{applyDetailsThree.checkName}}</p>\r\n                    <p>审批时间：{{applyDetailsThree.checkTime}}</p>\r\n                    <p>拒绝原因：{{applyDetailsThree.refuseNote}}</p>\r\n                    <p>设备列表：</p>\r\n                    <el-table :data=\"applyDetailsThree.deviceList\" style=\"width: 100%\" border>\r\n                      <el-table-column prop=\"deviceName\" label=\"设备名称\">\r\n                      </el-table-column>\r\n                      <el-table-column prop=\"deviceModel\" label=\"设备型号\">\r\n                      </el-table-column>\r\n                      <el-table-column prop=\"deviceNum\" label=\"申请数量\">\r\n                      </el-table-column>\r\n                      <el-table-column prop=\"supplierName\" label=\"所属厂家\">\r\n                      </el-table-column>\r\n                      <el-table-column prop=\"systemName\" label=\"所属系统\">\r\n                      </el-table-column>\r\n                    </el-table>\r\n                  </div>\r\n                  <div slot=\"footer\">\r\n                    <el-button @click=\"dialogDetailsApplyThreeVisible = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"dialogDetailsApplyThreeVisible = false\">确 定</el-button>\r\n                  </div>\r\n                </el-dialog>\r\n              </div>\r\n              <el-table :data=\"history.deviceList\" style=\"width: 100%\" border>\r\n                <el-table-column prop=\"deviceName\" label=\"设备名称\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"deviceModel\" label=\"设备型号\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"deviceNum\" label=\"申请数量\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"supplierName\" label=\"所属厂家\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"systemName\" label=\"所属系统\">\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n            <div style=\"width: 100%;height: 50px;\">\r\n              <div style=\"margin:15px 0;position:absolute;right:6%;\">\r\n                <el-pagination @current-change=\"handleCurrentChange\" :current-page=\"page\"\r\n                  layout=\"total, prev, pager, next, jumper\" :total=\"total\">\r\n                </el-pagination>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        activeBonusName: 'notCheck',\r\n        keyword: '',\r\n        userId: '',\r\n        peopleList: [],\r\n        startTime: '',\r\n        endTime: '',\r\n        page: 1,\r\n        pageNum: 10,\r\n        total: 0,\r\n        applyExamList: [],\r\n        applyExamMsg: '数据加载中',\r\n        dialogDetailsApplyVisible: false,\r\n        applyDetailsOne: {},\r\n\r\n        applyDeltail: {},\r\n        dialogExamApplyVisible: false,\r\n        state: '1',\r\n        refuseNote: '',\r\n\r\n        applyDetailsTwo: {},\r\n        dialogDetailsApplyTwoVisible: false,\r\n\r\n        applyDetailsThree: {},\r\n        dialogDetailsApplyThreeVisible: false,\r\n\r\n      }\r\n    },\r\n    created() {\r\n      this.getApplicantList();\r\n      this.examKeywordCheck();\r\n    },\r\n    methods: {\r\n      // 审批\r\n      examApply(details) {\r\n        this.applyDeltail = details;\r\n        this.dialogExamApplyVisible = true;\r\n        this.state = '1';\r\n        this.refuseNote = '';\r\n      },\r\n      // 确定\r\n      examApplySure() {\r\n        let params;\r\n        if (this.state == 1) {\r\n          params = {\r\n            id: this.applyDeltail.id,\r\n            state: this.state\r\n          };\r\n        } else {\r\n          params = {\r\n            id: this.applyDeltail.id,\r\n            state: this.state,\r\n            refuseNote: this.refuseNote\r\n          };\r\n        }\r\n        this.$axios.post(this.$store.state.baseUrl + '/checkApply', params).then(res => {\r\n          console.log('审批申请');\r\n          console.log(res);\r\n          this.$message.success({\r\n            message: '审批成功',\r\n            showClose: true,\r\n            duration: 2000\r\n          });\r\n          this.dialogExamApplyVisible = false;\r\n          this.examKeywordCheck();\r\n        }).catch(err => {\r\n          console.log(err);\r\n          this.$message.error({\r\n            message: err.data.message,\r\n            showClose: true,\r\n            duration: 2000\r\n          });\r\n          this.dialogExamApplyVisible = false;\r\n        })\r\n      },\r\n      // 查看详情\r\n      detailsApply(details) {\r\n        console.log(details);\r\n        this.applyDetailsOne = details;\r\n        this.dialogDetailsApplyVisible = true;\r\n      },\r\n      detailsApplyTwo(details) {\r\n        console.log(details);\r\n        this.applyDetailsTwo = details;\r\n        this.dialogDetailsApplyTwoVisible = true;\r\n      },\r\n      detailsApplyThree(details) {\r\n        console.log(details);\r\n        this.applyDetailsThree = details;\r\n        this.dialogDetailsApplyThreeVisible = true;\r\n      },\r\n      // 获取申请列表\r\n      examKeywordCheck() {\r\n        this.applyExamList = [];\r\n        this.applyExamMsg = '数据加载中';\r\n        this.$axios.post(this.$store.state.baseUrl + '/applyList', {\r\n          flag: 1,\r\n          state: this.activeBonusName == 'notCheck' ? 0 : (this.activeBonusName == 'checked' ? 1 : -1),\r\n          userId: this.userId,\r\n          startTime: this.startTime,\r\n          endTime: this.endTime,\r\n          keyword: this.keyword,\r\n          page: this.page,\r\n          pageNum: this.pageNum\r\n        }).then(res => {\r\n          console.log('申请列表');\r\n          console.log(res);\r\n          this.applyExamList = res.data.list;\r\n          this.total = res.data.total;\r\n          if (this.applyExamList.length == 0) {\r\n            this.applyExamMsg = '暂无数据';\r\n          };\r\n          if (this.activeBonusName == 'notCheck') {\r\n            if (this.applyExamList.length !== 0) {\r\n              this.$emit('notCheck', 0);\r\n            } else {\r\n              this.$emit('notCheck', 1);\r\n            }\r\n          }\r\n        }).catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      // 分页\r\n      handleCurrentChange(val) {\r\n        console.log(`当前页: ${val}`);\r\n        this.page = val;\r\n        (function smoothscroll() {\r\n          let currentScroll =\r\n            document.documentElement.scrollTop || document.body.scrollTop;\r\n          if (currentScroll > 0) {\r\n            window.requestAnimationFrame(smoothscroll);\r\n            window.scrollTo(0, currentScroll - currentScroll / 5);\r\n          }\r\n        })();\r\n        this.examKeywordCheck();\r\n      },\r\n      // 获取申请人列表\r\n      getApplicantList() {\r\n        this.$axios.post(this.$store.state.baseUrl + '/applicantList').then(res => {\r\n          console.log('申请人');\r\n          console.log(res);\r\n          this.peopleList = res.data;\r\n        })\r\n      },\r\n\r\n      handleBonusTabsClick() {\r\n        this.page = 1;\r\n        this.examKeywordCheck();\r\n      },\r\n\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .materials-examination-container {\r\n    .examination-top {\r\n      margin-bottom: 20px;\r\n      padding: 23px 10px;\r\n      padding-bottom: 0;\r\n      background-color: #fff;\r\n      border-radius: 6px;\r\n      box-shadow: #aaa;\r\n      text-align: left;\r\n      display: flex;\r\n      justify-content: space-between;\r\n    }\r\n  }\r\n</style>"]}]}