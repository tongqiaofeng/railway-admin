{"remainingRequest":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\my-projects\\railway-admin\\src\\components\\Stock-management.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\aa-tong\\my-projects\\railway-admin\\src\\components\\Stock-management.vue","mtime":1614060983658},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHlwZUNoYW5nZU51bTogMCwKICAgICAgc3RvY2tJbkZvcm1EYXRhOiB7CiAgICAgICAgd2FyZWhvdXNlSWQ6ICcnLAogICAgICAgIHR5cGU6IDEsCiAgICAgICAgbWVudTogJycsCiAgICAgICAgc3lzdGVtOiAnJywKICAgICAgICBkZXZpY2U6ICcnLAogICAgICAgIG1vZGVsOiAnJywKICAgICAgICBwcm9kdWN0VGltZTogJycsCiAgICAgICAgdmFsaWRUaW1lOiAnJywKICAgICAgICBiZW5jaG1hcms6ICcnLAogICAgICAgIGRldmljZU51bWJlcjogJycsCiAgICAgICAgc2hlbGZOdW1iZXI6ICcnLAogICAgICAgIG5vdGU6ICcnLAogICAgICAgIHdhcm5OdW1iZXI6ICcnLAogICAgICB9LAogICAgICBzdG9ja0luUnVsZXM6IHsKICAgICAgICB3YXJlaG91c2VJZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeaJgOWxnuS7k+W6kycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBtZW51OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup55Sf5Lqn5Y6C5a62JywKICAgICAgICAgIHRyaWdnZXI6IFsnY2hhbmdlJ10KICAgICAgICB9XSwKICAgICAgICBzeXN0ZW06IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nmiYDlsZ7ns7vnu58nLAogICAgICAgICAgdHJpZ2dlcjogWydjaGFuZ2UnXQogICAgICAgIH1dLAogICAgICAgIGRldmljZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeiuvuWkh+WQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiBbJ2NoYW5nZSddCiAgICAgICAgfV0sCiAgICAgICAgbW9kZWw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6norr7lpIflkI3np7AnLAogICAgICAgICAgdHJpZ2dlcjogWydjaGFuZ2UnXQogICAgICAgIH1dLAogICAgICAgIGRldmljZU51bWJlcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeiuvuWkh+e8luWPtycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgfSwKICAgICAgdHlwZUxpc3Q6IFt7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgbmFtZTogJ+aWsOi0reWFpeW6kycKICAgICAgfSwgewogICAgICAgIGlkOiAyLAogICAgICAgIG5hbWU6ICflvZLov5jlhaXlupMnCiAgICAgIH0sIHsKICAgICAgICBpZDogMywKICAgICAgICBuYW1lOiAn57u05L+u5ZCO5YWl5bqTJwogICAgICB9LCB7CiAgICAgICAgaWQ6IDQsCiAgICAgICAgbmFtZTogJ+ajgOa1i+WQjuWFpeW6kycKICAgICAgfSwgXSwKICAgICAgd2FyZWhvdXNlTGlzdDogW10sCiAgICAgIHN1cHBsaWVyTGlzdDogW10sCiAgICAgIHN5c3RlbUxpc3Q6IFtdLAogICAgICBzeXN0ZW1TZWxlY3RMaXN0OiBbXSwKICAgICAgZGV2aWNlTGlzdDogW10sCiAgICAgIGRldmljZVNlbGVjdExpc3Q6IFtdLAogICAgICBkZXZpY2VEZXRhaWw6IHt9LAoKICAgICAgc3RvY2tJbkxpc3Q6IFtdLAogICAgICBwcm9kdWN0TGlzdDogW10sCiAgICAgIG1hbmFnZUtleXdvcmQ6ICcnLAogICAgICBtYW5hZ2VMaXN0OiBbXSwKICAgICAgc3RvY2tTZWxlY3Rpb246IFtdLAoKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFdhcmVob3VzZUxpc3QoKTsKICAgIHRoaXMuZ2V0U3VwcGxpZXJMaXN0KCk7CiAgICB0aGlzLmdldFByb2R1Y3RMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDorr7lpIflhaXlupMKICAgIHN0b2NrSW5BZGQoZm9ybU5hbWUpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5zdG9ja0luRm9ybURhdGEudHlwZSk7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKHRoaXMuc3RvY2tJbkZvcm1EYXRhLnR5cGUgPT0gMSkgewogICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJHN0b3JlLnN0YXRlLmJhc2VVcmwgKyAnL3N0b2NrSW5EbycsIHsKICAgICAgICAgICAgICB0eXBlOiB0aGlzLnN0b2NrSW5Gb3JtRGF0YS50eXBlLAogICAgICAgICAgICAgIHN0b2NrSW5JZDogJycsCiAgICAgICAgICAgICAgZGV2aWNlSWQ6IHRoaXMuZGV2aWNlRGV0YWlsLmlkLAogICAgICAgICAgICAgIHByb2R1Y3RUaW1lOiB0aGlzLnNoZWxsRGF0ZSh0aGlzLnN0b2NrSW5Gb3JtRGF0YS5wcm9kdWN0VGltZSksCiAgICAgICAgICAgICAgdmFsaWRUaW1lOiB0aGlzLnNoZWxsRGF0ZSh0aGlzLnN0b2NrSW5Gb3JtRGF0YS52YWxpZFRpbWUpLAogICAgICAgICAgICAgIGJlbmNobWFyazogdGhpcy5zdG9ja0luRm9ybURhdGEuYmVuY2htYXJrLAogICAgICAgICAgICAgIGRldmljZU51bWJlcjogdGhpcy5zdG9ja0luRm9ybURhdGEuZGV2aWNlTnVtYmVyLAogICAgICAgICAgICAgIHdhcmVob3VzZUlkOiB0aGlzLnN0b2NrSW5Gb3JtRGF0YS53YXJlaG91c2VJZCwKICAgICAgICAgICAgICBzaGVsZk51bWJlcjogdGhpcy5zdG9ja0luRm9ybURhdGEuc2hlbGZOdW1iZXIsCiAgICAgICAgICAgICAgbm90ZTogdGhpcy5zdG9ja0luRm9ybURhdGEubm90ZSwKICAgICAgICAgICAgICB3YXJuTnVtYmVyOiB0aGlzLnN0b2NrSW5Gb3JtRGF0YS53YXJuTnVtYmVyCiAgICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCforr7lpIflhaXlupMnKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5YWl5bqT5oiQ5YqfJywKICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy5zdG9ja0luTGlzdCA9IFtdOwogICAgICAgICAgICAgIHRoaXMuZ2V0UHJvZHVjdExpc3QoKTsKICAgICAgICAgICAgICAvLyB0aGlzLnN0b2NrSW5Gb3JtRGF0YS50eXBlID0gMTsKICAgICAgICAgICAgICAvLyB0aGlzLnN0b2NrSW5Gb3JtRGF0YS5tZW51ID0gJyc7CiAgICAgICAgICAgICAgLy8gdGhpcy5zdG9ja0luRm9ybURhdGEuc3lzdGVtID0gJyc7CiAgICAgICAgICAgICAgLy8gdGhpcy5zdG9ja0luRm9ybURhdGEuZGV2aWNlID0gJyc7CiAgICAgICAgICAgICAgLy8gdGhpcy5zdG9ja0luRm9ybURhdGEubW9kZWwgPSAnJzsKICAgICAgICAgICAgICB0aGlzLnN0b2NrSW5Gb3JtRGF0YS5wcm9kdWN0VGltZSA9ICcnOwogICAgICAgICAgICAgIHRoaXMuc3RvY2tJbkZvcm1EYXRhLnZhbGlkVGltZSA9ICcnOwogICAgICAgICAgICAgIHRoaXMuc3RvY2tJbkZvcm1EYXRhLmJlbmNobWFyayA9ICcnOwogICAgICAgICAgICAgIHRoaXMuc3RvY2tJbkZvcm1EYXRhLmRldmljZU51bWJlciA9ICcnOwogICAgICAgICAgICAgIHRoaXMuc3RvY2tJbkZvcm1EYXRhLnNoZWxmTnVtYmVyID0gJyc7CiAgICAgICAgICAgICAgdGhpcy5zdG9ja0luRm9ybURhdGEubm90ZSA9ICcnOwogICAgICAgICAgICAgIHRoaXMuc3RvY2tJbkZvcm1EYXRhLndhcm5OdW1iZXIgPSAnJzsKICAgICAgICAgICAgICB0aGlzLmJhY2tUb3AoKTsKICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnIuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJHN0b3JlLnN0YXRlLmJhc2VVcmwgKyAnL3N0b2NrSW5EbycsIHsKICAgICAgICAgICAgICB3YXJlaG91c2VJZDogdGhpcy5zdG9ja0luRm9ybURhdGEud2FyZWhvdXNlSWQsCiAgICAgICAgICAgICAgdHlwZTogdGhpcy5zdG9ja0luRm9ybURhdGEudHlwZSwKICAgICAgICAgICAgICBzdG9ja0luSWRMaXN0OiB0aGlzLnN0b2NrU2VsZWN0aW9uCiAgICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCforr7lpIflhaXlupMnKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5YWl5bqT5oiQ5YqfJywKICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy5zdG9ja0luTGlzdCA9IFtdOwogICAgICAgICAgICAgIHRoaXMuZ2V0UHJvZHVjdExpc3QoKTsKICAgICAgICAgICAgICB0aGlzLmJhY2tUb3AoKTsKICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnIuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5YWl5bqT57G75Z6L5Y+Y5YyWCiAgICB0eXBlQ2hhbmdlKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLnN0b2NrSW5Gb3JtRGF0YS50eXBlKTsKICAgICAgaWYgKHRoaXMuc3RvY2tJbkZvcm1EYXRhLnR5cGUgPT0gMSkgewogICAgICAgIHRoaXMudHlwZUNoYW5nZU51bSA9IDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50eXBlQ2hhbmdlTnVtID0gMTsKICAgICAgICB0aGlzLm1hbmFnZUxpc3QgPSBbXTsKICAgICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJHN0b3JlLnN0YXRlLmJhc2VVcmwgKyAnL3N0b2NrT3V0TGlzdCcsIHsKICAgICAgICAgIGlkOiB0aGlzLnN0b2NrSW5Gb3JtRGF0YS53YXJlaG91c2VJZCwKICAgICAgICAgIHR5cGU6IHRoaXMuc3RvY2tJbkZvcm1EYXRhLnR5cGUKICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygn5YWl5bqT57G75Z6L5a+55bqU5Ye65bqT6K6+5aSH5YiX6KGoJyk7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgdGhpcy5tYW5hZ2VMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIC8vIOaooeeziuaQnOe0ouiuvuWkh+WIl+ihqAogICAgY2hlY2tEZXZpY2UoKSB7CiAgICAgIHRoaXMubWFuYWdlTGlzdCA9IFtdOwogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJHN0b3JlLnN0YXRlLmJhc2VVcmwgKyAnL3N0b2NrT3V0TGlzdCcsIHsKICAgICAgICBpZDogdGhpcy5zdG9ja0luRm9ybURhdGEud2FyZWhvdXNlSWQsCiAgICAgICAgdHlwZTogdGhpcy5zdG9ja0luRm9ybURhdGEudHlwZSwKICAgICAgICBrZXl3b3JkOiB0aGlzLm1hbmFnZUtleXdvcmQKICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCflhaXlupPnsbvlnovlr7nlupTlh7rlupPorr7lpIfliJfooagnKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMubWFuYWdlTGlzdCA9IHJlcy5kYXRhOwogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pCiAgICB9LAogICAgLy8g6YCJ5oup5YWl5bqT6K6+5aSHCiAgICBoYW5kbGVTdG9ja1NlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgY29uc29sZS5sb2codmFsKTsKICAgICAgdGhpcy5zdG9ja1NlbGVjdGlvbiA9IFtdOwogICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsKSB7CiAgICAgICAgdGhpcy5zdG9ja1NlbGVjdGlvbi5wdXNoKGl0ZW0uc3RvY2tJbklkKTsKICAgICAgfTsKICAgICAgY29uc29sZS5sb2codGhpcy5zdG9ja1NlbGVjdGlvbik7CiAgICB9LAogICAgLy8g5Y6C5a625Yy56YWNCiAgICBxdWVyeU1lbnVTZWFyY2gocXVlcnlTdHJpbmcsIGNiKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3VwcGxpZXJMaXN0KTsKICAgICAgbGV0IHJlc3RhdXJhbnRzID0gdGhpcy5zdXBwbGllckxpc3Q7CiAgICAgIGZvciAobGV0IGl0ZW1zIG9mIHJlc3RhdXJhbnRzKSB7CiAgICAgICAgaXRlbXMudmFsdWUgPSBpdGVtcy5uYW1lOwogICAgICB9CiAgICAgIGxldCByZXN1bHRzID0gcXVlcnlTdHJpbmcgPyByZXN0YXVyYW50cy5maWx0ZXIodGhpcy5jcmVhdGVGaWx0ZXIocXVlcnlTdHJpbmcpKSA6IHJlc3RhdXJhbnRzOwogICAgICBjb25zb2xlLmxvZyhyZXN1bHRzKTsKICAgICAgLy8g6LCD55SoIGNhbGxiYWNrIOi/lOWbnuW7uuiuruWIl+ihqOeahOaVsOaNrgogICAgICBjYihyZXN1bHRzKTsKICAgIH0sCiAgICBjcmVhdGVGaWx0ZXIocXVlcnlTdHJpbmcpIHsKICAgICAgcmV0dXJuIChyZXN0YXVyYW50KSA9PiB7CiAgICAgICAgcmV0dXJuIChyZXN0YXVyYW50Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHF1ZXJ5U3RyaW5nLnRvTG93ZXJDYXNlKCkpID09PSAwKTsKICAgICAgfTsKICAgIH0sCiAgICBoYW5kbGVNZW51KGl0ZW0pIHsKICAgICAgY29uc29sZS5sb2coaXRlbSk7CiAgICAgIHRoaXMuc3RvY2tJbkZvcm1EYXRhLm1lbnUgPSBpdGVtLnZhbHVlOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnN0b2NrSW5Gb3JtRGF0YS5tZW51KTsKICAgICAgdGhpcy5zeXN0ZW1TZWxlY3RMaXN0ID0gW107CiAgICAgIHRoaXMuc3RvY2tJbkZvcm1EYXRhLnN5c3RlbSA9ICcnOwogICAgICB0aGlzLmRldmljZVNlbGVjdExpc3QgPSBbXTsKICAgICAgdGhpcy5zdG9ja0luRm9ybURhdGEuZGV2aWNlID0gJyc7CiAgICAgIHRoaXMuc3RvY2tJbkZvcm1EYXRhLm1vZGVsID0gJyc7CiAgICAgIGZvciAoY29uc3Qgc3lzIG9mIHRoaXMuc3lzdGVtTGlzdCkgewogICAgICAgIGlmIChzeXMucGFyZW50SWQgPT0gaXRlbS5pZCkgewogICAgICAgICAgdGhpcy5zeXN0ZW1TZWxlY3RMaXN0LnB1c2goc3lzKTsKICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgLy8g57O757uf5Yy56YWNCiAgICBxdWVyeVN5c3RlbVNlYXJjaChxdWVyeVN0cmluZywgY2IpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5zeXN0ZW1TZWxlY3RMaXN0KTsKICAgICAgbGV0IHJlc3RhdXJhbnRzID0gdGhpcy5zeXN0ZW1TZWxlY3RMaXN0OwogICAgICBmb3IgKGxldCBpdGVtcyBvZiByZXN0YXVyYW50cykgewogICAgICAgIGl0ZW1zLnZhbHVlID0gaXRlbXMubmFtZTsKICAgICAgfQogICAgICBsZXQgcmVzdWx0cyA9IHF1ZXJ5U3RyaW5nID8gcmVzdGF1cmFudHMuZmlsdGVyKHRoaXMuY3JlYXRlRmlsdGVyU3lzdGVtKHF1ZXJ5U3RyaW5nKSkgOiByZXN0YXVyYW50czsKICAgICAgY29uc29sZS5sb2cocmVzdWx0cyk7CiAgICAgIC8vIOiwg+eUqCBjYWxsYmFjayDov5Tlm57lu7rorq7liJfooajnmoTmlbDmja4KICAgICAgY2IocmVzdWx0cyk7CiAgICB9LAogICAgY3JlYXRlRmlsdGVyU3lzdGVtKHF1ZXJ5U3RyaW5nKSB7CiAgICAgIHJldHVybiAocmVzdGF1cmFudCkgPT4gewogICAgICAgIHJldHVybiAocmVzdGF1cmFudC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihxdWVyeVN0cmluZy50b0xvd2VyQ2FzZSgpKSA9PT0gMCk7CiAgICAgIH07CiAgICB9LAogICAgaGFuZGxlU3lzdGVtKGl0ZW0pIHsKICAgICAgY29uc29sZS5sb2coaXRlbSk7CiAgICAgIHRoaXMuc3RvY2tJbkZvcm1EYXRhLnN5c3RlbSA9IGl0ZW0udmFsdWU7CiAgICAgIHRoaXMuZGV2aWNlU2VsZWN0TGlzdCA9IFtdOwogICAgICB0aGlzLnN0b2NrSW5Gb3JtRGF0YS5kZXZpY2UgPSAnJzsKICAgICAgdGhpcy5zdG9ja0luRm9ybURhdGEubW9kZWwgPSAnJzsKICAgICAgZm9yIChjb25zdCBzeXMgb2YgdGhpcy5kZXZpY2VMaXN0KSB7CiAgICAgICAgaWYgKHN5cy5wYXJlbnRJZCA9PSBpdGVtLmlkKSB7CiAgICAgICAgICB0aGlzLmRldmljZVNlbGVjdExpc3QucHVzaChzeXMpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICAvLyDorr7lpIfljLnphY0KICAgIHF1ZXJ5RGV2aWNlU2VhcmNoKHF1ZXJ5U3RyaW5nLCBjYikgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmRldmljZVNlbGVjdExpc3QpOwogICAgICBsZXQgcmVzdGF1cmFudHMgPSB0aGlzLmRldmljZVNlbGVjdExpc3Q7CiAgICAgIGZvciAobGV0IGl0ZW1zIG9mIHJlc3RhdXJhbnRzKSB7CiAgICAgICAgaXRlbXMudmFsdWUgPSBpdGVtcy5uYW1lOwogICAgICB9CiAgICAgIGxldCByZXN1bHRzID0gcXVlcnlTdHJpbmcgPyByZXN0YXVyYW50cy5maWx0ZXIodGhpcy5jcmVhdGVGaWx0ZXJEZXZpY2UocXVlcnlTdHJpbmcpKSA6IHJlc3RhdXJhbnRzOwogICAgICBjb25zb2xlLmxvZyhyZXN1bHRzKTsKICAgICAgLy8g6LCD55SoIGNhbGxiYWNrIOi/lOWbnuW7uuiuruWIl+ihqOeahOaVsOaNrgogICAgICBjYihyZXN1bHRzKTsKICAgIH0sCiAgICBjcmVhdGVGaWx0ZXJEZXZpY2UocXVlcnlTdHJpbmcpIHsKICAgICAgcmV0dXJuIChyZXN0YXVyYW50KSA9PiB7CiAgICAgICAgcmV0dXJuIChyZXN0YXVyYW50Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHF1ZXJ5U3RyaW5nLnRvTG93ZXJDYXNlKCkpID09PSAwKTsKICAgICAgfTsKICAgIH0sCiAgICBoYW5kbGVEZXZpY2UoaXRlbSkgewogICAgICBjb25zb2xlLmxvZyhpdGVtKTsKICAgICAgdGhpcy5zdG9ja0luRm9ybURhdGEuZGV2aWNlID0gaXRlbS52YWx1ZTsKICAgICAgdGhpcy5zdG9ja0luRm9ybURhdGEubW9kZWwgPSBpdGVtLm1vZGVsOwogICAgICB0aGlzLmRldmljZURldGFpbCA9IGl0ZW07CiAgICB9LAogICAgLy8g6I635Y+W6K6+5aSH57yW5Y+3CiAgICBnZXREZXZpY2VOdW1iZXIoKSB7CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy4kc3RvcmUuc3RhdGUuYmFzZVVybCArICcvZGV2aWNlTnVtYmVyR2V0JykudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCfojrflj5borr7lpIfnvJblj7cnKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMuc3RvY2tJbkZvcm1EYXRhLmRldmljZU51bWJlciA9IHJlcy5kYXRhLmRldmljZU51bWJlcjsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIHRoaXMuc3RvY2tJbkZvcm1EYXRhLmRldmljZU51bWJlciA9ICcnOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgbWVzc2FnZTogZXJyLmRhdGEubWVzc2FnZSwKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICAvLyDojrflj5bor6Xku5PlupPkuIvmiYDmnInnmoTkuqflk4EKICAgIHdhcmVob3VzZUNoYW5nZSgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5zdG9ja0luRm9ybURhdGEud2FyZWhvdXNlSWQpOwogICAgICB0aGlzLnByb2R1Y3RMaXN0ID0gW107CiAgICAgIHRoaXMudHlwZUNoYW5nZSgpOwogICAgICBmb3IgKGNvbnN0IHByb2R1Y3Qgb2YgdGhpcy5zdG9ja0luTGlzdCkgewogICAgICAgIGlmICh0aGlzLnN0b2NrSW5Gb3JtRGF0YS53YXJlaG91c2VJZCA9PSBwcm9kdWN0LndhcmVob3VzZUlkKSB7CiAgICAgICAgICB0aGlzLnByb2R1Y3RMaXN0ID0gcHJvZHVjdC5kZXZpY2VMaXN0OwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICAvLyDmiYDmnInkuqflk4HliJfooagKICAgIGdldFByb2R1Y3RMaXN0KCkgewogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJHN0b3JlLnN0YXRlLmJhc2VVcmwgKyAnL3N0b2NrSW5MaXN0Jywge30pLnRoZW4oKHJlcykgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCfkuqflk4HliJfooagnKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMuc3RvY2tJbkxpc3QgPSByZXMuZGF0YTsKICAgICAgICBpZiAodGhpcy5zdG9ja0luRm9ybURhdGEud2FyZWhvdXNlSWQgIT09ICcnKSB7CiAgICAgICAgICB0aGlzLndhcmVob3VzZUNoYW5nZSgpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPluS+m+W6lOWVhuWIl+ihqAogICAgZ2V0U3VwcGxpZXJMaXN0KCkgewogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJHN0b3JlLnN0YXRlLmJhc2VVcmwgKyAnL3N1cHBsaWVyTGlzdCcpLnRoZW4oKHJlcykgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCfkvpvlupTllYbliJfooagnKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMuc3VwcGxpZXJMaXN0ID0gcmVzLmRhdGEuc3VwcGxpZXJMaXN0OwogICAgICAgIHRoaXMuc3lzdGVtTGlzdCA9IHJlcy5kYXRhLnN5c3RlbUxpc3Q7CiAgICAgICAgdGhpcy5kZXZpY2VMaXN0ID0gcmVzLmRhdGEuZGV2aWNlTGlzdDsKICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPluS7k+W6k+WIl+ihqAogICAgZ2V0V2FyZWhvdXNlTGlzdCgpIHsKICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLiRzdG9yZS5zdGF0ZS5iYXNlVXJsICsgJy9tZW51V2FyZWhvdXNlTGlzdCcpLnRoZW4oKHJlcykgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCfku5PlupPliJfooagnKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMud2FyZWhvdXNlTGlzdCA9IHJlcy5kYXRhLndhcmVob3VzZUxpc3Q7CiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDpobXpnaLlm57liLDpobbpg6gKICAgIGJhY2tUb3AoKSB7CiAgICAgIGxldCB0aW1lciA9IG51bGw7CiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRpbWVyKTsKICAgICAgdGltZXIgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gZm4oKSB7CiAgICAgICAgdmFyIG9Ub3AgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwogICAgICAgIGlmIChvVG9wID4gMCkgewogICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gb1RvcCAtIDEwMDsKICAgICAgICAgIHRpbWVyID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZuKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGltZXIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogIH0KfQo="},{"version":3,"sources":["Stock-management.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Stock-management.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"user-admin-container\" id=\"user-admin\">\r\n    <!-- <h1>入库管理</h1> -->\r\n    <div class=\"user-edit\">\r\n      <el-form :model=\"stockInFormData\" :rules=\"stockInRules\" ref=\"stockInForm\" label-width=\"95px\"\r\n        class=\"demo-ruleForm\">\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"所属仓库：\" prop=\"warehouseId\">\r\n              <el-select v-model=\"stockInFormData.warehouseId\" placeholder=\"请选择\" @change=\"warehouseChange\"\r\n                class=\"input-style\">\r\n                <el-option v-for=\"item in warehouseList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"入库类型：\" prop=\"type\">\r\n              <el-select v-model=\"stockInFormData.type\" placeholder=\"请选择\" class=\"input-style\" @change=\"typeChange\">\r\n                <el-option v-for=\"item in typeList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <div v-if=\"typeChangeNum == 0\">\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"生产厂家：\" prop=\"menu\">\r\n                <el-autocomplete class=\"inline-input input-style\" v-model=\"stockInFormData.menu\"\r\n                  :fetch-suggestions=\"queryMenuSearch\" placeholder=\"请输入内容\" @select=\"handleMenu\" clearable>\r\n                </el-autocomplete>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"所属系统：\" prop=\"system\">\r\n                <el-autocomplete class=\"inline-input input-style\" v-model=\"stockInFormData.system\"\r\n                  :fetch-suggestions=\"querySystemSearch\" placeholder=\"请输入内容\" @select=\"handleSystem\" clearable>\r\n                </el-autocomplete>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"设备名称：\" prop=\"device\">\r\n                <el-autocomplete class=\"inline-input input-style\" v-model=\"stockInFormData.device\"\r\n                  :fetch-suggestions=\"queryDeviceSearch\" placeholder=\"请输入内容\" @select=\"handleDevice\" clearable>\r\n                </el-autocomplete>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"设备型号：\" prop=\"model\">\r\n                <el-input v-model=\"stockInFormData.model\" readonly class=\"input-style\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"生产日期：\" prop=\"productTime\">\r\n                <el-date-picker v-model=\"stockInFormData.productTime\" type=\"date\" placeholder=\"请选择\" class=\"input-style\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"有效日期：\" prop=\"validTime\">\r\n                <el-date-picker v-model=\"stockInFormData.validTime\" type=\"date\" placeholder=\"请选择\" class=\"input-style\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"生产批次：\" prop=\"benchmark\">\r\n                <el-input v-model=\"stockInFormData.benchmark\" class=\"input-style\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"设备编号：\" prop=\"deviceNumber\">\r\n                <el-input v-model=\"stockInFormData.deviceNumber\" readonly class=\"input-style\" @focus=\"getDeviceNumber\">\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"货架号：\" prop=\"shelfNumber\">\r\n                <el-input v-model=\"stockInFormData.shelfNumber\" class=\"input-style\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"预警数量：\" prop=\"warnNumber\">\r\n                <el-input v-model=\"stockInFormData.warnNumber\" class=\"input-style\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"备注：\" prop=\"note\">\r\n                <el-input type=\"textarea\" v-model=\"stockInFormData.note\" class=\"input-style\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n        <div v-else>\r\n          <div style=\"margin-top: 40px;display: flex;justify-content: flex-end;\">\r\n            <div id=\"stock\">\r\n              <el-input v-model=\"manageKeyword\" placeholder=\"可输入生产厂家、所属系统、设备名称、设备型号、设备编号进行查找\" clearable\r\n                class=\"stockInput\"></el-input>\r\n            </div>\r\n            <el-button style=\"margin-left: 10px;\" type=\"primary\" @click=\"checkDevice\" class=\"stockButton\">查 询\r\n            </el-button>\r\n          </div>\r\n          <div style=\"margin-top: 20px;\">\r\n            <el-table :data=\"manageList\" tooltip-effect=\"dark\" style=\"width: 800px\" border\r\n              @selection-change=\"handleStockSelectionChange\">\r\n              <el-table-column type=\"selection\" width=\"55\" align=\"center\">\r\n              </el-table-column>\r\n              <el-table-column label=\"所属厂家\">\r\n                <template slot-scope=\"scope\">{{ scope.row.supplierName }}</template>\r\n              </el-table-column>\r\n              <el-table-column label=\"所属系统\">\r\n                <template slot-scope=\"scope\">{{ scope.row.systemName }}</template>\r\n              </el-table-column>\r\n              <el-table-column label=\"设备名称\">\r\n                <template slot-scope=\"scope\">{{ scope.row.deviceName }}</template>\r\n              </el-table-column>\r\n              <el-table-column prop=\"deviceModel\" label=\"设备型号\">\r\n              </el-table-column>\r\n              <el-table-column prop=\"deviceNumber\" label=\"设备编号\" show-overflow-tooltip>\r\n              </el-table-column>\r\n            </el-table>\r\n          </div>\r\n        </div>\r\n      </el-form>\r\n      <div style=\"margin-top: 30px;margin-right: 30px;text-align: right;\">\r\n        <el-button style=\"width: 120px;\" type=\"primary\" @click=\"stockInAdd('stockInForm')\" v-preventClick>提 交\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"user-table\">\r\n      <el-table :data=\"productList\" style=\"width: 100%\" border>\r\n        <el-table-column prop=\"supplierName\" label=\"生产厂家\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"systemName\" label=\"所属系统\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"deviceName\" label=\"设备名称\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"deviceModel\" label=\"设备型号\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"deviceNumber\" label=\"设备编号\">\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        typeChangeNum: 0,\r\n        stockInFormData: {\r\n          warehouseId: '',\r\n          type: 1,\r\n          menu: '',\r\n          system: '',\r\n          device: '',\r\n          model: '',\r\n          productTime: '',\r\n          validTime: '',\r\n          benchmark: '',\r\n          deviceNumber: '',\r\n          shelfNumber: '',\r\n          note: '',\r\n          warnNumber: '',\r\n        },\r\n        stockInRules: {\r\n          warehouseId: [{\r\n            required: true,\r\n            message: '请选择所属仓库',\r\n            trigger: 'blur'\r\n          }],\r\n          menu: [{\r\n            required: true,\r\n            message: '请选择生产厂家',\r\n            trigger: ['change']\r\n          }],\r\n          system: [{\r\n            required: true,\r\n            message: '请选择所属系统',\r\n            trigger: ['change']\r\n          }],\r\n          device: [{\r\n            required: true,\r\n            message: '请选择设备名称',\r\n            trigger: ['change']\r\n          }],\r\n          model: [{\r\n            required: true,\r\n            message: '请选择设备名称',\r\n            trigger: ['change']\r\n          }],\r\n          deviceNumber: [{\r\n            required: true,\r\n            message: '请输入设备编号',\r\n            trigger: 'blur'\r\n          }],\r\n        },\r\n        typeList: [{\r\n          id: 1,\r\n          name: '新购入库'\r\n        }, {\r\n          id: 2,\r\n          name: '归还入库'\r\n        }, {\r\n          id: 3,\r\n          name: '维修后入库'\r\n        }, {\r\n          id: 4,\r\n          name: '检测后入库'\r\n        }, ],\r\n        warehouseList: [],\r\n        supplierList: [],\r\n        systemList: [],\r\n        systemSelectList: [],\r\n        deviceList: [],\r\n        deviceSelectList: [],\r\n        deviceDetail: {},\r\n\r\n        stockInList: [],\r\n        productList: [],\r\n        manageKeyword: '',\r\n        manageList: [],\r\n        stockSelection: [],\r\n\r\n      }\r\n    },\r\n    created() {\r\n      this.getWarehouseList();\r\n      this.getSupplierList();\r\n      this.getProductList();\r\n    },\r\n    methods: {\r\n      // 设备入库\r\n      stockInAdd(formName) {\r\n        console.log(this.stockInFormData.type);\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            if (this.stockInFormData.type == 1) {\r\n              this.$axios.post(this.$store.state.baseUrl + '/stockInDo', {\r\n                type: this.stockInFormData.type,\r\n                stockInId: '',\r\n                deviceId: this.deviceDetail.id,\r\n                productTime: this.shellDate(this.stockInFormData.productTime),\r\n                validTime: this.shellDate(this.stockInFormData.validTime),\r\n                benchmark: this.stockInFormData.benchmark,\r\n                deviceNumber: this.stockInFormData.deviceNumber,\r\n                warehouseId: this.stockInFormData.warehouseId,\r\n                shelfNumber: this.stockInFormData.shelfNumber,\r\n                note: this.stockInFormData.note,\r\n                warnNumber: this.stockInFormData.warnNumber\r\n              }).then((res) => {\r\n                console.log('设备入库');\r\n                console.log(res);\r\n                this.$message.success({\r\n                  message: '入库成功',\r\n                  showClose: true,\r\n                  duration: 2000\r\n                });\r\n                this.stockInList = [];\r\n                this.getProductList();\r\n                // this.stockInFormData.type = 1;\r\n                // this.stockInFormData.menu = '';\r\n                // this.stockInFormData.system = '';\r\n                // this.stockInFormData.device = '';\r\n                // this.stockInFormData.model = '';\r\n                this.stockInFormData.productTime = '';\r\n                this.stockInFormData.validTime = '';\r\n                this.stockInFormData.benchmark = '';\r\n                this.stockInFormData.deviceNumber = '';\r\n                this.stockInFormData.shelfNumber = '';\r\n                this.stockInFormData.note = '';\r\n                this.stockInFormData.warnNumber = '';\r\n                this.backTop();\r\n              }).catch((err) => {\r\n                console.log(err);\r\n                this.$message.error({\r\n                  message: err.data.message,\r\n                  showClose: true,\r\n                  duration: 2000\r\n                });\r\n              });\r\n            } else {\r\n              this.$axios.post(this.$store.state.baseUrl + '/stockInDo', {\r\n                warehouseId: this.stockInFormData.warehouseId,\r\n                type: this.stockInFormData.type,\r\n                stockInIdList: this.stockSelection\r\n              }).then((res) => {\r\n                console.log('设备入库');\r\n                console.log(res);\r\n                this.$message.success({\r\n                  message: '入库成功',\r\n                  showClose: true,\r\n                  duration: 2000\r\n                });\r\n                this.stockInList = [];\r\n                this.getProductList();\r\n                this.backTop();\r\n              }).catch((err) => {\r\n                console.log(err);\r\n                this.$message.error({\r\n                  message: err.data.message,\r\n                  showClose: true,\r\n                  duration: 2000\r\n                });\r\n              });\r\n            }\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      // 入库类型变化\r\n      typeChange() {\r\n        console.log(this.stockInFormData.type);\r\n        if (this.stockInFormData.type == 1) {\r\n          this.typeChangeNum = 0;\r\n        } else {\r\n          this.typeChangeNum = 1;\r\n          this.manageList = [];\r\n          this.$axios.post(this.$store.state.baseUrl + '/stockOutList', {\r\n            id: this.stockInFormData.warehouseId,\r\n            type: this.stockInFormData.type\r\n          }).then(res => {\r\n            console.log('入库类型对应出库设备列表');\r\n            console.log(res);\r\n            this.manageList = res.data;\r\n          }).catch(err => {\r\n            console.log(err);\r\n          })\r\n        }\r\n      },\r\n      // 模糊搜索设备列表\r\n      checkDevice() {\r\n        this.manageList = [];\r\n        this.$axios.post(this.$store.state.baseUrl + '/stockOutList', {\r\n          id: this.stockInFormData.warehouseId,\r\n          type: this.stockInFormData.type,\r\n          keyword: this.manageKeyword\r\n        }).then(res => {\r\n          console.log('入库类型对应出库设备列表');\r\n          console.log(res);\r\n          this.manageList = res.data;\r\n        }).catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      // 选择入库设备\r\n      handleStockSelectionChange(val) {\r\n        console.log(val);\r\n        this.stockSelection = [];\r\n        for (const item of val) {\r\n          this.stockSelection.push(item.stockInId);\r\n        };\r\n        console.log(this.stockSelection);\r\n      },\r\n      // 厂家匹配\r\n      queryMenuSearch(queryString, cb) {\r\n        console.log(this.supplierList);\r\n        let restaurants = this.supplierList;\r\n        for (let items of restaurants) {\r\n          items.value = items.name;\r\n        }\r\n        let results = queryString ? restaurants.filter(this.createFilter(queryString)) : restaurants;\r\n        console.log(results);\r\n        // 调用 callback 返回建议列表的数据\r\n        cb(results);\r\n      },\r\n      createFilter(queryString) {\r\n        return (restaurant) => {\r\n          return (restaurant.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\r\n        };\r\n      },\r\n      handleMenu(item) {\r\n        console.log(item);\r\n        this.stockInFormData.menu = item.value;\r\n        console.log(this.stockInFormData.menu);\r\n        this.systemSelectList = [];\r\n        this.stockInFormData.system = '';\r\n        this.deviceSelectList = [];\r\n        this.stockInFormData.device = '';\r\n        this.stockInFormData.model = '';\r\n        for (const sys of this.systemList) {\r\n          if (sys.parentId == item.id) {\r\n            this.systemSelectList.push(sys);\r\n          }\r\n        };\r\n      },\r\n      // 系统匹配\r\n      querySystemSearch(queryString, cb) {\r\n        console.log(this.systemSelectList);\r\n        let restaurants = this.systemSelectList;\r\n        for (let items of restaurants) {\r\n          items.value = items.name;\r\n        }\r\n        let results = queryString ? restaurants.filter(this.createFilterSystem(queryString)) : restaurants;\r\n        console.log(results);\r\n        // 调用 callback 返回建议列表的数据\r\n        cb(results);\r\n      },\r\n      createFilterSystem(queryString) {\r\n        return (restaurant) => {\r\n          return (restaurant.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\r\n        };\r\n      },\r\n      handleSystem(item) {\r\n        console.log(item);\r\n        this.stockInFormData.system = item.value;\r\n        this.deviceSelectList = [];\r\n        this.stockInFormData.device = '';\r\n        this.stockInFormData.model = '';\r\n        for (const sys of this.deviceList) {\r\n          if (sys.parentId == item.id) {\r\n            this.deviceSelectList.push(sys);\r\n          }\r\n        };\r\n      },\r\n      // 设备匹配\r\n      queryDeviceSearch(queryString, cb) {\r\n        console.log(this.deviceSelectList);\r\n        let restaurants = this.deviceSelectList;\r\n        for (let items of restaurants) {\r\n          items.value = items.name;\r\n        }\r\n        let results = queryString ? restaurants.filter(this.createFilterDevice(queryString)) : restaurants;\r\n        console.log(results);\r\n        // 调用 callback 返回建议列表的数据\r\n        cb(results);\r\n      },\r\n      createFilterDevice(queryString) {\r\n        return (restaurant) => {\r\n          return (restaurant.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\r\n        };\r\n      },\r\n      handleDevice(item) {\r\n        console.log(item);\r\n        this.stockInFormData.device = item.value;\r\n        this.stockInFormData.model = item.model;\r\n        this.deviceDetail = item;\r\n      },\r\n      // 获取设备编号\r\n      getDeviceNumber() {\r\n        this.$axios.post(this.$store.state.baseUrl + '/deviceNumberGet').then(res => {\r\n          console.log('获取设备编号');\r\n          console.log(res);\r\n          this.stockInFormData.deviceNumber = res.data.deviceNumber;\r\n        }).catch(err => {\r\n          console.log(err);\r\n          this.stockInFormData.deviceNumber = '';\r\n          this.$message.error({\r\n            message: err.data.message,\r\n            showClose: true,\r\n            duration: 2000\r\n          })\r\n        })\r\n      },\r\n      // 获取该仓库下所有的产品\r\n      warehouseChange() {\r\n        console.log(this.stockInFormData.warehouseId);\r\n        this.productList = [];\r\n        this.typeChange();\r\n        for (const product of this.stockInList) {\r\n          if (this.stockInFormData.warehouseId == product.warehouseId) {\r\n            this.productList = product.deviceList;\r\n          }\r\n        };\r\n      },\r\n      // 所有产品列表\r\n      getProductList() {\r\n        this.$axios.post(this.$store.state.baseUrl + '/stockInList', {}).then((res) => {\r\n          console.log('产品列表');\r\n          console.log(res);\r\n          this.stockInList = res.data;\r\n          if (this.stockInFormData.warehouseId !== '') {\r\n            this.warehouseChange();\r\n          }\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        });\r\n      },\r\n      // 获取供应商列表\r\n      getSupplierList() {\r\n        this.$axios.post(this.$store.state.baseUrl + '/supplierList').then((res) => {\r\n          console.log('供应商列表');\r\n          console.log(res);\r\n          this.supplierList = res.data.supplierList;\r\n          this.systemList = res.data.systemList;\r\n          this.deviceList = res.data.deviceList;\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        });\r\n      },\r\n      // 获取仓库列表\r\n      getWarehouseList() {\r\n        this.$axios.post(this.$store.state.baseUrl + '/menuWarehouseList').then((res) => {\r\n          console.log('仓库列表');\r\n          console.log(res);\r\n          this.warehouseList = res.data.warehouseList;\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        });\r\n      },\r\n      // 页面回到顶部\r\n      backTop() {\r\n        let timer = null;\r\n        cancelAnimationFrame(timer);\r\n        timer = requestAnimationFrame(function fn() {\r\n          var oTop = document.body.scrollTop || document.documentElement.scrollTop;\r\n          if (oTop > 0) {\r\n            document.body.scrollTop = document.documentElement.scrollTop = oTop - 100;\r\n            timer = requestAnimationFrame(fn);\r\n          } else {\r\n            cancelAnimationFrame(timer);\r\n          }\r\n        });\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .user-admin-container {\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    .user-edit {\r\n      width: 50%;\r\n      padding: 10px;\r\n      margin-right: 15px;\r\n      background-color: #fff;\r\n      border-radius: 6px;\r\n    }\r\n\r\n    .user-table {\r\n      width: 50%;\r\n      padding: 10px;\r\n      background-color: #fff;\r\n      border-radius: 6px;\r\n    }\r\n\r\n    .input-style {\r\n      width: 100%;\r\n    }\r\n\r\n    .stockButton {\r\n      height: 34px !important;\r\n      line-height: 9px;\r\n      font-size: 12px;\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\">\r\n  #user-admin {\r\n    .el-form-item__content {\r\n      text-align: left;\r\n    }\r\n\r\n    #stock {\r\n      width: 100%;\r\n\r\n      .stockInput {\r\n        width: 431px;\r\n        float: right;\r\n\r\n        .el-input__inner {\r\n          height: 34px;\r\n          line-height: 9px;\r\n          font-size: 12px;\r\n        }\r\n\r\n        .el-input__suffix {\r\n          padding-top: -10px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}