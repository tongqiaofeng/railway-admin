{"remainingRequest":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\my-projects\\railway-admin\\src\\views\\Test.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\aa-tong\\my-projects\\railway-admin\\src\\views\\Test.vue","mtime":1616061332847},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGltZzogdGhpcy4kc3RvcmUuc3RhdGUuYmFzZVVybCwKICAgICAgaW1nTGlzdDogWyJmYzkyNmEyODU4NTA0NzZmYjEzNmIxYzk4OTRjM2E0ZC5qcGciLCAiOGY2N2NiNzVlNmUwNGFhOWJhZWM1NGE0MDNjODJlZmUuanBnIl0sCiAgICAgIGJpZ1NlbDogMCwKICAgICAgaW1nSW5kZXg6IDAsCiAgICAgIGltZ1VybDogJycsCiAgICAgIHRNYXRyaXg6IFsxLCAwLCAwLCAxLCAwLCAwXSwgLy9457yp5pS+77yM5peg77yM5peg77yMeee8qeaUvu+8jHjlubPnp7vvvIx55bmz56e7CiAgICAgIGluaXRTY2FsZTogMSwgLy/liJ3lp4vljJZzY2FsZQogICAgICBlbDogJycsIC8v6I635Y+W5YWD57SgCiAgICAgIG1jOiAnJywKICAgICAgdGlja2luZzogZmFsc2UsCiAgICAgIHBvc2NlbnRlcjogJycsIC8v57yT5a2Y5Y+M5oyH55qE5Lit5b+D5Z2Q5qCHCiAgICAgIGR1cmF0aW9uOiAnJywgLy/orr7nva7ov4fmuKHmlYjmnpzvvIznlKjkuo7lj4zlh7vnvKnmlL7mlYjmnpwKICAgICAgbGFzdFRyYW5zbGF0ZTogJycsIC8v6K6w5b2V5LiK5qyh55qE5YGP56e75YC8CiAgICAgIGxhc3RjZW50ZXI6ICcnLCAvL+WbvuWDj+eahOS4reW/g+eCue+8jOeUqOS6juWvueavlOWPjOaMh+S4reW/g+eCuQogICAgICBjZW50ZXI6IDAsCgogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2xvc2UoKSB7CiAgICAgIHRoaXMuYmlnU2VsID0gMDsKICAgICAgdGhpcy50TWF0cml4ID0gWzEsIDAsIDAsIDEsIDAsIDBdOwogICAgICB0aGlzLmluaXRTY2FsZSA9IDE7CiAgICAgIHRoaXMuZWwgPSAnJzsKICAgICAgdGhpcy5tYyA9ICcnOwogICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5wb3NjZW50ZXIgPSAnJzsKICAgICAgdGhpcy5kdXJhdGlvbiA9ICcnOwogICAgICB0aGlzLmxhc3RUcmFuc2xhdGUgPSAnJzsKICAgICAgdGhpcy5sYXN0Y2VudGVyID0gJyc7CiAgICAgIHRoaXMuY2VudGVyID0gMDsKCiAgICB9LAogICAgY2xpY2tJbWcoaW5kZXgsIHVybCkgewogICAgICB0aGlzLmltZ0luZGV4ID0gaW5kZXg7CiAgICAgIHRoaXMuaW1nVXJsID0gdXJsOwogICAgICB0aGlzLmJpZ1NlbCA9IDE7CgogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbWciICsgdGhpcy5pbWdJbmRleCk7CiAgICAgICAgdGhpcy5tYyA9IG5ldyBIYW1tZXIuTWFuYWdlcih0aGlzLmVsKTsKICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLnBvc2NlbnRlciA9IHRoaXMucG9pbnQyRCgwLCAwKTsgLy/nvJPlrZjlj4zmjIfnmoTkuK3lv4PlnZDmoIcKICAgICAgICB0aGlzLmR1cmF0aW9uID0gJyc7IC8v6K6+572u6L+H5rih5pWI5p6c77yM55So5LqO5Y+M5Ye757yp5pS+5pWI5p6cCiAgICAgICAgdGhpcy5sYXN0VHJhbnNsYXRlID0gdGhpcy5wb2ludDJEKDAsIDApOyAvL+iusOW9leS4iuasoeeahOWBj+enu+WAvAogICAgICAgIHRoaXMubGFzdGNlbnRlciA9IHRoaXMucG9pbnQyRCh0aGlzLmVsLm9mZnNldFdpZHRoIC8gMiwgdGhpcy5lbC5vZmZzZXRIZWlnaHQgLyAyKTsgLy/lm77lg4/nmoTkuK3lv4PngrnvvIznlKjkuo7lr7nmr5Tlj4zmjIfkuK3lv4PngrkKICAgICAgICB0aGlzLmNlbnRlciA9IHRoaXMubGFzdGNlbnRlcjsKCiAgICAgICAgdGhpcy5tYy5hZGQobmV3IEhhbW1lci5QYW4oewogICAgICAgICAgdGhyZXNob2xkOiAwLAogICAgICAgICAgcG9pbnRlcnM6IDEKICAgICAgICB9KSkKICAgICAgICB0aGlzLm1jLmFkZChuZXcgSGFtbWVyLlBpbmNoKHsKICAgICAgICAgIHRocmVzaG9sZDogMAogICAgICAgIH0pKQogICAgICAgIHRoaXMubWMuYWRkKG5ldyBIYW1tZXIuVGFwKHsKICAgICAgICAgIGV2ZW50OiAnZG91YmxldGFwJywKICAgICAgICAgIHRhcHM6IDIKICAgICAgICB9KSk7CiAgICAgICAgdGhpcy5tYy5vbigicGFubW92ZSIsIHRoaXMub25QYW4pOwogICAgICAgIHRoaXMubWMub24oInBhbnN0YXJ0IiwgdGhpcy5vblBhblN0YXJ0KQogICAgICAgIHRoaXMubWMub24oInBpbmNobW92ZSIsIHRoaXMub25QaW5jaCk7CiAgICAgICAgdGhpcy5tYy5vbigicGluY2hzdGFydCIsIHRoaXMub25QaW5jaFN0YXJ0KTsKICAgICAgICB0aGlzLm1jLm9uKCJkb3VibGV0YXAiLCB0aGlzLm9uRG91YmxlVGFwKTsKCiAgICAgICAgLyoqCiAgICAgICAg5Yid5aeL5YyW6K6+572uCiAgICAgICAgKi8KICAgICAgICB0aGlzLnJlcXVlc3RFbGVtZW50VXBkYXRlKCk7CiAgICAgIH0pCgogICAgfSwKCiAgICBwb2ludDJEKHgsIHkpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB4OiB4LAogICAgICAgIHk6IHkKICAgICAgfTsKICAgIH0sCgogICAgcmVxQW5pbWF0aW9uRnJhbWUoKSB7CiAgICAgIHJldHVybiB3aW5kb3dbSGFtbWVyLnByZWZpeGVkKHdpbmRvdywgJ3JlcXVlc3RBbmltYXRpb25GcmFtZScpXSB8fCBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTsKICAgICAgfTsKICAgIH0sCgogICAgb25QYW5TdGFydChldikgewogICAgICBjb25zb2xlLmxvZyhldik7CiAgICAgIC8vIGV2LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAvLyBldi5jYW5jZWxCdWJibGUgPSB0cnVlOwoKICAgICAgY29uc29sZS5sb2coZXYpOwogICAgICB0aGlzLmxhc3RUcmFuc2xhdGUgPSB0aGlzLnBvaW50MkQodGhpcy50TWF0cml4WzRdLCB0aGlzLnRNYXRyaXhbNV0pIC8v57yT5a2Y5LiK5LiA5qyh55qE5YGP56e75YC8CiAgICB9LAoKICAgIG9uUGFuKGV2KSB7CiAgICAgIGNvbnNvbGUubG9nKGV2KTsKICAgICAgLy8gZXYuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIC8vIGV2LmNhbmNlbEJ1YmJsZSA9IHRydWU7CgogICAgICB0aGlzLmR1cmF0aW9uID0gJyc7CiAgICAgIHRoaXMuZWwuY2xhc3NOYW1lID0gJyc7CiAgICAgIHRoaXMudE1hdHJpeFs0XSA9IHRoaXMubGFzdFRyYW5zbGF0ZS54ICsgZXYuZGVsdGFYOwogICAgICB0aGlzLnRNYXRyaXhbNV0gPSB0aGlzLmxhc3RUcmFuc2xhdGUueSArIGV2LmRlbHRhWTsKICAgICAgdGhpcy5yZXF1ZXN0RWxlbWVudFVwZGF0ZSgnb25wYW4nKTsKICAgIH0sCgogICAgb25QaW5jaFN0YXJ0KGV2KSB7CiAgICAgIGNvbnNvbGUubG9nKGV2KTsKICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIGV2LmNhbmNlbEJ1YmJsZSA9IHRydWU7CgogICAgICB0aGlzLmR1cmF0aW9uID0gJyc7CiAgICAgIHRoaXMubGFzdFRyYW5zbGF0ZSA9IHRoaXMucG9pbnQyRCh0aGlzLnRNYXRyaXhbNF0sIHRoaXMudE1hdHJpeFs1XSkgLy/orrDlvZXkuIrkuIDmrKHnmoTlgY/np7vlgLwKICAgICAgdGhpcy5pbml0U2NhbGUgPSB0aGlzLnRNYXRyaXhbMF0gfHwgMTsKICAgICAgdGhpcy5wb3NjZW50ZXIgPSB0aGlzLnBvaW50MkQoZXYuY2VudGVyLngsIGV2LmNlbnRlci55KQoKICAgICAgdGhpcy5sYXN0Y2VudGVyID0gdGhpcy5wb2ludDJEKHRoaXMuY2VudGVyLnggKyB0aGlzLmxhc3RUcmFuc2xhdGUueCwgdGhpcy5jZW50ZXIueSArIHRoaXMubGFzdFRyYW5zbGF0ZQogICAgICAgIC55KSAvL+mHjeaWsOiuoeeul+aUvuWkp+WQjueahOS4reW/g+WdkOaghwogICAgICB0aGlzLnBvc2NlbnRlciA9IHRoaXMucG9pbnQyRChldi5jZW50ZXIueCAtIHRoaXMubGFzdGNlbnRlci54LCBldi5jZW50ZXIueSAtIHRoaXMubGFzdGNlbnRlci55KQogICAgICBjb25zb2xlLmxvZygiY2VudGVyIiwgdGhpcy5sYXN0Y2VudGVyLngsIHRoaXMubGFzdGNlbnRlci55KQoKICAgICAgdGhpcy5yZXF1ZXN0RWxlbWVudFVwZGF0ZSgnb25waW5jaFN0YXJ0Jyk7CiAgICB9LAoKICAgIG9uUGluY2goZXYpIHsKICAgICAgY29uc29sZS5sb2coZXYpOwogICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgZXYuY2FuY2VsQnViYmxlID0gdHJ1ZTsKCiAgICAgIC8vIHZhciBub3dTY2FsZSA9IHRoaXMudE1hdHJpeFswXSA9IHRoaXMudE1hdHJpeFszXSA9IHRoaXMuaW5pdFNjYWxlICogZXYuc2NhbGU7CiAgICAgIC8vIHZhciBjb21wb3NzY2FsID0gKDEgLSBldi5zY2FsZSk7CgogICAgICAvL3RNYXRyaXhbNF0gPSBwb3NjZW50ZXIueCAtICgocG9zY2VudGVyLnggLSBsYXN0Y2VudGVyLngpICogIGV2LnNjYWxlICsgbGFzdGNlbnRlci54KSAgKyBsYXN0VHJhbnNsYXRlLngvL+acgOWQjuWKoOS4iuS4iuS4gOasoeeahOWBj+enu+WAvAogICAgICAvL3RNYXRyaXhbNV0gPSBwb3NjZW50ZXIueSAtICgocG9zY2VudGVyLnkgLSBsYXN0Y2VudGVyLnkpICogIGV2LnNjYWxlICsgbGFzdGNlbnRlci55KSAgKyBsYXN0VHJhbnNsYXRlLnkKICAgICAgdGhpcy50TWF0cml4WzRdID0gKDEgLSBldi5zY2FsZSkgKiB0aGlzLnBvc2NlbnRlci54ICsgdGhpcy5sYXN0VHJhbnNsYXRlLngKICAgICAgdGhpcy50TWF0cml4WzVdID0gKDEgLSBldi5zY2FsZSkgKiB0aGlzLnBvc2NlbnRlci55ICsgdGhpcy5sYXN0VHJhbnNsYXRlLnkKICAgICAgdGhpcy5yZXF1ZXN0RWxlbWVudFVwZGF0ZSgnb25waW5jaCcpOwogICAgfSwKCiAgICBvbkRvdWJsZVRhcChldikgewogICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgZXYuY2FuY2VsQnViYmxlID0gdHJ1ZTsKCiAgICAgIHRoaXMuZHVyYXRpb24gPSAiLjNzIGVhc2UgYWxsIjsKICAgICAgdmFyIG5vd1NjYWxlID0gdGhpcy50TWF0cml4WzBdOwogICAgICBpZiAobm93U2NhbGUgIT0gMSB8fCB0aGlzLnRNYXRyaXhbNF0gIT0gMCkgewogICAgICAgIC8vc2NhbGXkuI3nrYnkuo4x77yM6KaB6YeN5ZueMQogICAgICAgIHRoaXMudE1hdHJpeFswXSA9IHRoaXMudE1hdHJpeFszXSA9IDE7CiAgICAgICAgdGhpcy50TWF0cml4WzRdID0gdGhpcy50TWF0cml4WzVdID0gMDsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcG9pbnRlciA9IGV2LmNlbnRlcjsKICAgICAgICB2YXIgc2NhbGUgPSAyOwogICAgICAgIHRoaXMudE1hdHJpeFswXSA9IHRoaXMudE1hdHJpeFszXSA9IHNjYWxlOwogICAgICAgIC8vdmFyIGxhc3QgPSBwb2ludDJECiAgICAgICAgLy90TWF0cml4WzRdID0gcG9pbnRlci54IC0gKChwb2ludGVyLngtbGFzdGNlbnRlci54KSAqIHNjYWxlICsgbGFzdGNlbnRlci54KTsKICAgICAgICAvL3RNYXRyaXhbNV0gPSBwb2ludGVyLnkgLSAoKHBvaW50ZXIueS1sYXN0Y2VudGVyLnkpICogc2NhbGUgKyBsYXN0Y2VudGVyLnkpOwogICAgICAgIHRoaXMudE1hdHJpeFs0XSA9ICgxIC0gc2NhbGUpICogKHBvaW50ZXIueCAtIHRoaXMuY2VudGVyLngpCiAgICAgICAgdGhpcy50TWF0cml4WzVdID0gKDEgLSBzY2FsZSkgKiAocG9pbnRlci55IC0gdGhpcy5jZW50ZXIueSkKICAgICAgfQogICAgICB0aGlzLnJlcXVlc3RFbGVtZW50VXBkYXRlKCdkb3VibGVUYXAnKTsKICAgIH0sCgogICAgdXBkYXRlRWxlbWVudFRyYW5zZm9ybSgpIHsKICAgICAgdGhpcy5lbC5zdHlsZS50cmFuc2l0aW9uID0gdGhpcy5kdXJhdGlvbjsKICAgICAgdmFyIHRtcCA9IHRoaXMudE1hdHJpeC5qb2luKCcsJyk7CiAgICAgIGNvbnNvbGUubG9nKHRtcCkKICAgICAgdGhpcy5lbC5zdHlsZS50cmFuc2Zvcm0gPSAnbWF0cml4KCcgKyB0bXAgKyAnKSc7CiAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlOwogICAgfSwKCiAgICByZXF1ZXN0RWxlbWVudFVwZGF0ZSgpIHsKICAgICAgYXJndW1lbnRzICYmIGNvbnNvbGUubG9nKGFyZ3VtZW50c1swXSkKCiAgICAgIGlmICghdGhpcy50aWNraW5nKSB7CiAgICAgICAgdGhpcy5yZXFBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZUVsZW1lbnRUcmFuc2Zvcm0oKSk7CiAgICAgICAgdGhpcy50aWNraW5nID0gdHJ1ZTsKICAgICAgfQogICAgfSwKCiAgfQp9Cg=="},{"version":3,"sources":["Test.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Test.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"scale\">\r\n      <div style=\"width: 100%;display: flex;justify-content: space-around;\">\r\n        <el-carousel height=\"600px\" indicator-position=\"outside\" arrow=\"always\" :autoplay=\"false\" ref=\"carousel\">\r\n          <el-carousel-item v-for=\"(imgs, index) in imgList\" :key=\"index\">\r\n            <div style=\"width: 100%;height: 550px;margin: 0 auto;\">\r\n              <img style=\"width: auto;height: 100%;object-fit:cover;\" v-show=\"imgs !== '' && imgs !== null\"\r\n                :src=\"img + '/file/' + imgs\" @click=\"clickImg(index,imgs)\" />\r\n            </div>\r\n          </el-carousel-item>\r\n        </el-carousel>\r\n      </div>\r\n      <div class=\"aaa\" v-if=\"bigSel == 1\" @click=\"close\">\r\n        <img :id=\"'img' + imgIndex\" :src=\"img + '/file/' + imgUrl\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Hammer from 'hammerjs';\r\n  export default {\r\n    data() {\r\n      return {\r\n        img: this.$store.state.baseUrl,\r\n        imgList: [\"fc926a285850476fb136b1c9894c3a4d.jpg\", \"8f67cb75e6e04aa9baec54a403c82efe.jpg\"],\r\n        bigSel: 0,\r\n        imgIndex: 0,\r\n        imgUrl: '',\r\n        tMatrix: [1, 0, 0, 1, 0, 0], //x缩放，无，无，y缩放，x平移，y平移\r\n        initScale: 1, //初始化scale\r\n        el: '', //获取元素\r\n        mc: '',\r\n        ticking: false,\r\n        poscenter: '', //缓存双指的中心坐标\r\n        duration: '', //设置过渡效果，用于双击缩放效果\r\n        lastTranslate: '', //记录上次的偏移值\r\n        lastcenter: '', //图像的中心点，用于对比双指中心点\r\n        center: 0,\r\n\r\n      }\r\n    },\r\n    methods: {\r\n      close() {\r\n        this.bigSel = 0;\r\n        this.tMatrix = [1, 0, 0, 1, 0, 0];\r\n        this.initScale = 1;\r\n        this.el = '';\r\n        this.mc = '';\r\n        this.ticking = false;\r\n        this.poscenter = '';\r\n        this.duration = '';\r\n        this.lastTranslate = '';\r\n        this.lastcenter = '';\r\n        this.center = 0;\r\n\r\n      },\r\n      clickImg(index, url) {\r\n        this.imgIndex = index;\r\n        this.imgUrl = url;\r\n        this.bigSel = 1;\r\n\r\n        this.$nextTick(() => {\r\n          this.el = document.getElementById(\"img\" + this.imgIndex);\r\n          this.mc = new Hammer.Manager(this.el);\r\n          this.ticking = false;\r\n          this.poscenter = this.point2D(0, 0); //缓存双指的中心坐标\r\n          this.duration = ''; //设置过渡效果，用于双击缩放效果\r\n          this.lastTranslate = this.point2D(0, 0); //记录上次的偏移值\r\n          this.lastcenter = this.point2D(this.el.offsetWidth / 2, this.el.offsetHeight / 2); //图像的中心点，用于对比双指中心点\r\n          this.center = this.lastcenter;\r\n\r\n          this.mc.add(new Hammer.Pan({\r\n            threshold: 0,\r\n            pointers: 1\r\n          }))\r\n          this.mc.add(new Hammer.Pinch({\r\n            threshold: 0\r\n          }))\r\n          this.mc.add(new Hammer.Tap({\r\n            event: 'doubletap',\r\n            taps: 2\r\n          }));\r\n          this.mc.on(\"panmove\", this.onPan);\r\n          this.mc.on(\"panstart\", this.onPanStart)\r\n          this.mc.on(\"pinchmove\", this.onPinch);\r\n          this.mc.on(\"pinchstart\", this.onPinchStart);\r\n          this.mc.on(\"doubletap\", this.onDoubleTap);\r\n\r\n          /**\r\n          初始化设置\r\n          */\r\n          this.requestElementUpdate();\r\n        })\r\n\r\n      },\r\n\r\n      point2D(x, y) {\r\n        return {\r\n          x: x,\r\n          y: y\r\n        };\r\n      },\r\n\r\n      reqAnimationFrame() {\r\n        return window[Hammer.prefixed(window, 'requestAnimationFrame')] || function (callback) {\r\n          window.setTimeout(callback, 1000 / 60);\r\n        };\r\n      },\r\n\r\n      onPanStart(ev) {\r\n        console.log(ev);\r\n        // ev.stopPropagation();\r\n        // ev.cancelBubble = true;\r\n\r\n        console.log(ev);\r\n        this.lastTranslate = this.point2D(this.tMatrix[4], this.tMatrix[5]) //缓存上一次的偏移值\r\n      },\r\n\r\n      onPan(ev) {\r\n        console.log(ev);\r\n        // ev.stopPropagation();\r\n        // ev.cancelBubble = true;\r\n\r\n        this.duration = '';\r\n        this.el.className = '';\r\n        this.tMatrix[4] = this.lastTranslate.x + ev.deltaX;\r\n        this.tMatrix[5] = this.lastTranslate.y + ev.deltaY;\r\n        this.requestElementUpdate('onpan');\r\n      },\r\n\r\n      onPinchStart(ev) {\r\n        console.log(ev);\r\n        ev.stopPropagation();\r\n        ev.cancelBubble = true;\r\n\r\n        this.duration = '';\r\n        this.lastTranslate = this.point2D(this.tMatrix[4], this.tMatrix[5]) //记录上一次的偏移值\r\n        this.initScale = this.tMatrix[0] || 1;\r\n        this.poscenter = this.point2D(ev.center.x, ev.center.y)\r\n\r\n        this.lastcenter = this.point2D(this.center.x + this.lastTranslate.x, this.center.y + this.lastTranslate\r\n          .y) //重新计算放大后的中心坐标\r\n        this.poscenter = this.point2D(ev.center.x - this.lastcenter.x, ev.center.y - this.lastcenter.y)\r\n        console.log(\"center\", this.lastcenter.x, this.lastcenter.y)\r\n\r\n        this.requestElementUpdate('onpinchStart');\r\n      },\r\n\r\n      onPinch(ev) {\r\n        console.log(ev);\r\n        ev.stopPropagation();\r\n        ev.cancelBubble = true;\r\n\r\n        // var nowScale = this.tMatrix[0] = this.tMatrix[3] = this.initScale * ev.scale;\r\n        // var composscal = (1 - ev.scale);\r\n\r\n        //tMatrix[4] = poscenter.x - ((poscenter.x - lastcenter.x) *  ev.scale + lastcenter.x)  + lastTranslate.x//最后加上上一次的偏移值\r\n        //tMatrix[5] = poscenter.y - ((poscenter.y - lastcenter.y) *  ev.scale + lastcenter.y)  + lastTranslate.y\r\n        this.tMatrix[4] = (1 - ev.scale) * this.poscenter.x + this.lastTranslate.x\r\n        this.tMatrix[5] = (1 - ev.scale) * this.poscenter.y + this.lastTranslate.y\r\n        this.requestElementUpdate('onpinch');\r\n      },\r\n\r\n      onDoubleTap(ev) {\r\n        ev.stopPropagation();\r\n        ev.cancelBubble = true;\r\n\r\n        this.duration = \".3s ease all\";\r\n        var nowScale = this.tMatrix[0];\r\n        if (nowScale != 1 || this.tMatrix[4] != 0) {\r\n          //scale不等于1，要重回1\r\n          this.tMatrix[0] = this.tMatrix[3] = 1;\r\n          this.tMatrix[4] = this.tMatrix[5] = 0;\r\n        } else {\r\n          var pointer = ev.center;\r\n          var scale = 2;\r\n          this.tMatrix[0] = this.tMatrix[3] = scale;\r\n          //var last = point2D\r\n          //tMatrix[4] = pointer.x - ((pointer.x-lastcenter.x) * scale + lastcenter.x);\r\n          //tMatrix[5] = pointer.y - ((pointer.y-lastcenter.y) * scale + lastcenter.y);\r\n          this.tMatrix[4] = (1 - scale) * (pointer.x - this.center.x)\r\n          this.tMatrix[5] = (1 - scale) * (pointer.y - this.center.y)\r\n        }\r\n        this.requestElementUpdate('doubleTap');\r\n      },\r\n\r\n      updateElementTransform() {\r\n        this.el.style.transition = this.duration;\r\n        var tmp = this.tMatrix.join(',');\r\n        console.log(tmp)\r\n        this.el.style.transform = 'matrix(' + tmp + ')';\r\n        this.ticking = false;\r\n      },\r\n\r\n      requestElementUpdate() {\r\n        arguments && console.log(arguments[0])\r\n\r\n        if (!this.ticking) {\r\n          this.reqAnimationFrame(this.updateElementTransform());\r\n          this.ticking = true;\r\n        }\r\n      },\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  #scale {\r\n    position: relative;\r\n  }\r\n\r\n  .aaa {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    background: rgba(0, 0, 0, 0.85);\r\n    overflow: hidden;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 999;\r\n  }\r\n\r\n  .aaa img {\r\n    top: 50%;\r\n    left: 50%;\r\n    width: 200px;\r\n    transition: 0s ease all;\r\n    position: absolute;\r\n    // top: 0;\r\n  }\r\n</style>\r\n<style lang=\"scss\">\r\n  .el-carousel {\r\n    width: 100%;\r\n  }\r\n\r\n  @media screen and (max-width: 767px) {\r\n    .el-carousel__arrow {\r\n      width: 50px;\r\n      height: 50px;\r\n      font-size: 15px;\r\n    }\r\n  }\r\n\r\n  .el-carousel__indicator.is-active button {\r\n    background-color: #3d81fd;\r\n  }\r\n\r\n  .el-carousel__item.is-active {\r\n    z-index: 0;\r\n  }\r\n</style>"]}]}