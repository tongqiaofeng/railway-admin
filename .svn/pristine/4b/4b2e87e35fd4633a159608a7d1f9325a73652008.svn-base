{"remainingRequest":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\my-projects\\railway-admin\\src\\components\\Stock-management.vue?vue&type=style&index=0&id=4cdd8e9a&lang=scss&scoped=true&","dependencies":[{"path":"D:\\aa-tong\\my-projects\\railway-admin\\src\\components\\Stock-management.vue","mtime":1615177275279},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\railway-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnVzZXItYWRtaW4tY29udGFpbmVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKCiAgLnVzZXItZWRpdCB7CiAgICB3aWR0aDogNTAlOwogICAgcGFkZGluZzogMTBweDsKICAgIG1hcmdpbi1yaWdodDogMTVweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgfQoKICAudXNlci10YWJsZSB7CiAgICB3aWR0aDogNTAlOwogICAgcGFkZGluZzogMTBweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgfQoKICAuaW5wdXQtc3R5bGUgewogICAgd2lkdGg6IDEwMCU7CiAgfQoKICAuc3RvY2tCdXR0b24gewogICAgaGVpZ2h0OiAzNHB4ICFpbXBvcnRhbnQ7CiAgICBsaW5lLWhlaWdodDogOXB4OwogICAgZm9udC1zaXplOiAxMnB4OwogIH0KCiAgLmZvbnQtdGl0bGUtc3R5bGUgewogICAgbWFyZ2luLXRvcDogMjBweDsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICBjb2xvcjogIzZhNmE2YTsKICAgIGZvbnQtc2l6ZTogMThweDsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgdGV4dC1hbGlnbjogbGVmdDsKICB9CgogIC5mb250LWRpdiB7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOwogICAgYm9yZGVyLWJvdHRvbTogbm9uZTsKCiAgICAuZGl2LW9uZSB7CiAgICAgIGhlaWdodDogMzRweDsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgbGluZS1oZWlnaHQ6IDM0cHg7CiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjOwoKICAgICAgLm9uZS1sZWZ0IHsKICAgICAgICB3aWR0aDogOTVweDsKICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjY2NjOwogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyOwogICAgICB9CgogICAgICAub25lLXJpZ2h0IHsKICAgICAgICB3aWR0aDogMzczcHg7CiAgICAgICAgcGFkZGluZy1sZWZ0OiAxMHB4OwogICAgICB9CgogICAgICAucXJjb2RlQ2xpY2sgewogICAgICAgIHdpZHRoOiAxMDBweDsKICAgICAgICBoZWlnaHQ6IDM0cHg7CiAgICAgICAgZmxvYXQ6IHJpZ2h0OwogICAgICAgIGxpbmUtaGVpZ2h0OiAzNHB4OwogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzZDgyZmU7CiAgICAgICAgY29sb3I6ICNmZmY7CiAgICAgICAgZm9udC1zaXplOiAxM3B4OwogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgIH0KICAgIH0KCiAgICAuZGl2LW9uZS1ub3RlIHsKICAgICAgaGVpZ2h0OiAxMDBweDsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgbGluZS1oZWlnaHQ6IDEwMHB4OwogICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYzsKCiAgICAgIC5vbmUtbGVmdCB7CiAgICAgICAgd2lkdGg6IDk1cHg7CiAgICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2NjYzsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjsKICAgICAgfQoKICAgICAgLm9uZS1yaWdodCB7CiAgICAgICAgd2lkdGg6IDM3M3B4OwogICAgICAgIHBhZGRpbmctbGVmdDogMTBweDsKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["Stock-management.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmlCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Stock-management.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"user-admin-container\" id=\"user-admin\">\r\n    <!-- <h1>入库管理</h1> -->\r\n    <div class=\"user-edit\">\r\n      <el-form :model=\"stockInFormData\" :rules=\"stockInRules\" ref=\"stockInForm\" label-width=\"95px\"\r\n        class=\"demo-ruleForm\">\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"入库类型：\" prop=\"type\">\r\n              <el-select v-model=\"stockInFormData.type\" placeholder=\"请选择\" class=\"input-style\" @change=\"typeChange\">\r\n                <el-option v-for=\"item in typeList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"所属仓库：\" prop=\"warehouseId\">\r\n              <el-select v-model=\"stockInFormData.warehouseId\" placeholder=\"请选择\" @change=\"warehouseChange\"\r\n                class=\"input-style\">\r\n                <el-option v-for=\"item in warehouseList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"\r\n                  @click.native=\"warehouseClick(item)\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <div v-if=\"typeChangeNum == 0\" style=\"margin-top: 40px;\">\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"生产厂家：\" prop=\"menu\">\r\n                <el-autocomplete class=\"inline-input input-style\" v-model=\"stockInFormData.menu\"\r\n                  :fetch-suggestions=\"queryMenuSearch\" placeholder=\"请输入内容\" @select=\"handleMenu\" clearable>\r\n                </el-autocomplete>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"所属系统：\" prop=\"system\">\r\n                <el-autocomplete class=\"inline-input input-style\" v-model=\"stockInFormData.system\"\r\n                  :fetch-suggestions=\"querySystemSearch\" placeholder=\"请输入内容\" @select=\"handleSystem\" clearable>\r\n                </el-autocomplete>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"设备名称：\" prop=\"device\">\r\n                <el-autocomplete class=\"inline-input input-style\" v-model=\"stockInFormData.device\"\r\n                  :fetch-suggestions=\"queryDeviceSearch\" placeholder=\"请输入内容\" @select=\"handleDevice\" clearable>\r\n                </el-autocomplete>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"设备型号：\" prop=\"model\">\r\n                <el-input v-model=\"stockInFormData.model\" readonly class=\"input-style\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"生产日期：\" prop=\"productTime\">\r\n                <el-date-picker v-model=\"stockInFormData.productTime\" type=\"date\" placeholder=\"请选择\" class=\"input-style\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"有效日期：\" prop=\"validTime\">\r\n                <el-date-picker v-model=\"stockInFormData.validTime\" type=\"date\" placeholder=\"请选择\" class=\"input-style\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"生产批次：\" prop=\"benchmark\">\r\n                <el-input v-model=\"stockInFormData.benchmark\" class=\"input-style\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"货架号：\" prop=\"shelfNumber\">\r\n                <el-input v-model=\"stockInFormData.shelfNumber\" class=\"input-style\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-form-item label=\"设备编号：\" prop=\"deviceNumber\">\r\n            <div style=\"display: flex;\">\r\n              <el-input v-model=\"stockInFormData.deviceNumber\" readonly class=\"input-style\" @focus=\"getDeviceNumber\">\r\n              </el-input>\r\n              <el-button style=\"margin-left: 10px;\" type=\"primary\" @click=\"stockGetQrcode\" v-preventClick>打印二维码\r\n              </el-button>\r\n            </div>\r\n          </el-form-item>\r\n          <el-form-item label=\"备注：\" prop=\"note\">\r\n            <el-input style=\"height: 100px;\" type=\"textarea\" v-model=\"stockInFormData.note\" class=\"input-style\">\r\n            </el-input>\r\n          </el-form-item>\r\n        </div>\r\n        <div v-else>\r\n          <div style=\"margin-top: 40px;display: flex;justify-content: flex-end;\">\r\n            <div id=\"stock\">\r\n              <el-input v-model=\"manageKeyword\" placeholder=\"可输入部门、厂家、系统、设备名称，设备型号，生产批次进行搜索\" clearable\r\n                class=\"stockInput\"></el-input>\r\n            </div>\r\n            <el-button style=\"margin-left: 10px;\" type=\"primary\" @click=\"checkDevice\" class=\"stockButton\">查 询\r\n            </el-button>\r\n          </div>\r\n          <div style=\"margin-top: 20px;\">\r\n            <el-table :data=\"manageList\" tooltip-effect=\"dark\" style=\"width: 800px\" border\r\n              @selection-change=\"handleStockSelectionChange\" @row-click=\"warehouseManaLookTwo\">\r\n              <el-table-column type=\"selection\" width=\"55\" align=\"center\">\r\n              </el-table-column>\r\n              <el-table-column label=\"所属厂家\">\r\n                <template slot-scope=\"scope\">{{ scope.row.supplierName }}</template>\r\n              </el-table-column>\r\n              <el-table-column label=\"所属系统\">\r\n                <template slot-scope=\"scope\">{{ scope.row.systemName }}</template>\r\n              </el-table-column>\r\n              <el-table-column label=\"设备名称\">\r\n                <template slot-scope=\"scope\">{{ scope.row.deviceName }}</template>\r\n              </el-table-column>\r\n              <el-table-column prop=\"deviceModel\" label=\"设备型号\">\r\n              </el-table-column>\r\n              <el-table-column prop=\"deviceNumber\" label=\"设备编号\" show-overflow-tooltip>\r\n              </el-table-column>\r\n            </el-table>\r\n            <el-dialog title=\"设备信息\" :visible.sync=\"dialogInventoryCheckTwoVisible\" :close-on-press-escape=\"false\"\r\n              :close-on-click-modal=\"false\" :modal-append-to-body=\"false\" :append-to-body=\"false\">\r\n              <div id=\"invenSome\">\r\n                <div style=\"display: flex;justify-content: space-between;\">\r\n                  <p class=\"font-title-style\">库存信息</p>\r\n                  <div style=\"padding-top: 24px;\">\r\n                    <img style=\"cursor: pointer;\" title=\"修改设备信息\" src=\"../assets/imgs/home/update.png\"\r\n                      @click=\"updateDeviceTwo\" />\r\n                  </div>\r\n                </div>\r\n                <div class=\"font-div\">\r\n                  <div class=\"div-one\">\r\n                    <div class=\"one-left\">\r\n                      仓库名称\r\n                    </div>\r\n                    <div class=\"one-right\">\r\n                      {{inventoryCheckDetailTwo.warehouseName}}\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"div-one\">\r\n                    <div class=\"one-left\">\r\n                      设备名称\r\n                    </div>\r\n                    <div class=\"one-right\">\r\n                      {{inventoryCheckDetailTwo.deviceName}}\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"div-one\">\r\n                    <div class=\"one-left\">\r\n                      设备编号\r\n                    </div>\r\n                    <div style=\"width: 382px;display: flex;justify-content: space-between;\">\r\n                      <div class=\"one-right\">\r\n                        {{inventoryCheckDetailTwo.deviceNumber}}\r\n                      </div>\r\n                      <div class=\"qrcodeClick\" @click=\"getQrcodeInvenTwo\" v-preventClick>打印二维码</div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"div-one\">\r\n                    <div class=\"one-left\"\r\n                      :style=\"{color: isUpdateTwo == 0 ? '#606266' : '#3d82fe',fontWeight: isUpdateTwo == 0 ? 'normal' : 'bold'}\">\r\n                      货架号\r\n                    </div>\r\n                    <div class=\"one-right\">\r\n                      <el-input :readonly=\"isUpdate == 0 ? true : false\" v-model=\"inventoryCheckDetailTwo.shelfNumber\"\r\n                        clearable>\r\n                      </el-input>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"div-one\">\r\n                    <div class=\"one-left\">\r\n                      在库时长\r\n                    </div>\r\n                    <div class=\"one-right\">\r\n                      {{inventoryCheckDetailTwo.stockInDays + ' 天'}}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <p class=\"font-title-style\">设备信息</p>\r\n                <div class=\"font-div\">\r\n                  <div class=\"div-one\">\r\n                    <div class=\"one-left\">\r\n                      厂家名称\r\n                    </div>\r\n                    <div class=\"one-right\">\r\n                      {{inventoryCheckDetailTwo.supplierName}}\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"div-one\">\r\n                    <div class=\"one-left\">\r\n                      系统名称\r\n                    </div>\r\n                    <div class=\"one-right\">\r\n                      {{inventoryCheckDetailTwo.systemName}}\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"div-one\">\r\n                    <div class=\"one-left\">\r\n                      设备型号\r\n                    </div>\r\n                    <div class=\"one-right\">\r\n                      {{inventoryCheckDetailTwo.deviceModel}}\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"div-one\">\r\n                    <div class=\"one-left\"\r\n                      :style=\"{color: isUpdateTwo == 0 ? '#606266' : '#3d82fe',fontWeight: isUpdateTwo == 0 ? 'normal' : 'bold'}\">\r\n                      生产日期\r\n                    </div>\r\n                    <div class=\"one-right\">\r\n                      <el-date-picker :readonly=\"isUpdateTwo == 0 ? true : false\"\r\n                        v-model=\"inventoryCheckDetailTwo.productTime\" type=\"date\" format=\"yyyy-MM-dd\"\r\n                        value-format=\"yyyy-MM-dd\" clearable></el-date-picker>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"div-one\">\r\n                    <div class=\"one-left\"\r\n                      :style=\"{color: isUpdateTwo == 0 ? '#606266' : '#3d82fe',fontWeight: isUpdateTwo == 0 ? 'normal' : 'bold'}\">\r\n                      有效日期\r\n                    </div>\r\n                    <div class=\"one-right\">\r\n                      <el-date-picker :readonly=\"isUpdateTwo == 0 ? true : false\"\r\n                        v-model=\"inventoryCheckDetailTwo.validTime\" type=\"date\" format=\"yyyy-MM-dd\"\r\n                        value-format=\"yyyy-MM-dd\" clearable></el-date-picker>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"div-one\">\r\n                    <div class=\"one-left\"\r\n                      :style=\"{color: isUpdateTwo == 0 ? '#606266' : '#3d82fe',fontWeight: isUpdateTwo == 0 ? 'normal' : 'bold'}\">\r\n                      生产批次\r\n                    </div>\r\n                    <div class=\"one-right\">\r\n                      <el-input :readonly=\"isUpdateTwo == 0 ? true : false\" v-model=\"inventoryCheckDetailTwo.benchmark\"\r\n                        clearable>\r\n                      </el-input>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <p class=\"font-title-style\">备注信息</p>\r\n                <div class=\"font-div\">\r\n                  <div class=\"div-one-note\" id=\"one-note\">\r\n                    <div class=\"one-left\"\r\n                      :style=\"{color: isUpdateTwo == 0 ? '#606266' : '#3d82fe',fontWeight: isUpdateTwo == 0 ? 'normal' : 'bold'}\">\r\n                      备注\r\n                    </div>\r\n                    <div class=\"one-right\">\r\n                      <el-input type=\"textarea\" v-model=\"inventoryCheckDetailTwo.note\"\r\n                        :readonly=\"isUpdate == 0 ? true : false\">\r\n                      </el-input>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <p class=\"font-title-style\">\r\n                  设备状态：{{inventoryCheckDetailTwo.flag == 0 ? '库存中' : (inventoryCheckDetailTwo.flag == 1 ? '维修中' : (inventoryCheckDetailTwo.flag == 2 ? '检测中' : '使用中'))}}\r\n                </p>\r\n                <el-timeline>\r\n                  <el-timeline-item color=\"#3d82fe\" size=\"large\"\r\n                    v-for=\"(activity, index) in inventoryCheckDetailTwo.stockInOutList\" :key=\"index\">\r\n                    {{activity.time}}\r\n                    <span\r\n                      style=\"display: inline-block;margin-left: 10px;\">{{activity.type == 0 ? (activity.flag == 1 ? '新购入库' : (activity.flag == 2 ? '归还入库' : (activity.flag == 3 ? '维修入库' : '检测入库'))) : (activity.flag == 1 ? '使用出库' : (activity.flag == 2 ? '维修出库' : '检测出库'))}}</span>\r\n                  </el-timeline-item>\r\n                </el-timeline>\r\n              </div>\r\n              <div slot=\"footer\">\r\n                <el-button @click=\"dialogInventoryCheckTwoVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"inventoryLookSureTwo\">确 定</el-button>\r\n              </div>\r\n            </el-dialog>\r\n          </div>\r\n        </div>\r\n      </el-form>\r\n      <div style=\"margin-top: 30px;text-align: right;\">\r\n        <el-button style=\"width: 120px;\" type=\"primary\" @click=\"stockInAdd('stockInForm')\" v-preventClick>提 交\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"user-table\" style=\"display: flex;\">\r\n      <el-table :data=\"productList\" tooltip-effect=\"dark\" border @row-click=\"inventoryLook\">\r\n        <el-table-column prop=\"supplierName\" label=\"生产厂家\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"systemName\" label=\"所属系统\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"deviceName\" label=\"设备名称\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"deviceModel\" label=\"设备型号\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"deviceNumber\" label=\"设备编号\">\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"150px\">\r\n          <template>\r\n            <el-button type=\"text\" style=\"color: red;\">\r\n              删除\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-dialog title=\"设备信息\" :visible.sync=\"dialogInventoryCheckVisible\" :close-on-press-escape=\"false\"\r\n        :close-on-click-modal=\"false\" :modal-append-to-body=\"false\" :append-to-body=\"false\">\r\n        <div id=\"invenSome\">\r\n          <div style=\"display: flex;justify-content: space-between;\">\r\n            <p class=\"font-title-style\">库存信息</p>\r\n            <div style=\"padding-top: 24px;\">\r\n              <img style=\"cursor: pointer;\" title=\"修改设备信息\" src=\"../assets/imgs/home/update.png\" @click=\"updateDevice\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"font-div\">\r\n            <div class=\"div-one\">\r\n              <div class=\"one-left\">\r\n                仓库名称\r\n              </div>\r\n              <div class=\"one-right\">\r\n                {{inventoryCheckDetail.warehouseName}}\r\n              </div>\r\n            </div>\r\n            <div class=\"div-one\">\r\n              <div class=\"one-left\">\r\n                设备名称\r\n              </div>\r\n              <div class=\"one-right\">\r\n                {{inventoryCheckDetail.deviceName}}\r\n              </div>\r\n            </div>\r\n            <div class=\"div-one\">\r\n              <div class=\"one-left\">\r\n                设备编号\r\n              </div>\r\n              <div style=\"width: 382px;display: flex;justify-content: space-between;\">\r\n                <div class=\"one-right\">\r\n                  {{inventoryCheckDetail.deviceNumber}}\r\n                </div>\r\n                <div class=\"qrcodeClick\" @click=\"getQrcodeInven\" v-preventClick>打印二维码</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"div-one\">\r\n              <div class=\"one-left\"\r\n                :style=\"{color: isUpdate == 0 ? '#606266' : '#3d82fe',fontWeight: isUpdate == 0 ? 'normal' : 'bold'}\">\r\n                货架号\r\n              </div>\r\n              <div class=\"one-right\">\r\n                <el-input :readonly=\"isUpdate == 0 ? true : false\" v-model=\"inventoryCheckDetail.shelfNumber\" clearable>\r\n                </el-input>\r\n              </div>\r\n            </div>\r\n            <div class=\"div-one\">\r\n              <div class=\"one-left\">\r\n                在库时长\r\n              </div>\r\n              <div class=\"one-right\">\r\n                {{inventoryCheckDetail.stockInDays + ' 天'}}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <p class=\"font-title-style\">设备信息</p>\r\n          <div class=\"font-div\">\r\n            <div class=\"div-one\">\r\n              <div class=\"one-left\">\r\n                厂家名称\r\n              </div>\r\n              <div class=\"one-right\">\r\n                {{inventoryCheckDetail.supplierName}}\r\n              </div>\r\n            </div>\r\n            <div class=\"div-one\">\r\n              <div class=\"one-left\">\r\n                系统名称\r\n              </div>\r\n              <div class=\"one-right\">\r\n                {{inventoryCheckDetail.systemName}}\r\n              </div>\r\n            </div>\r\n            <div class=\"div-one\">\r\n              <div class=\"one-left\">\r\n                设备型号\r\n              </div>\r\n              <div class=\"one-right\">\r\n                {{inventoryCheckDetail.deviceModel}}\r\n              </div>\r\n            </div>\r\n            <div class=\"div-one\">\r\n              <div class=\"one-left\"\r\n                :style=\"{color: isUpdate == 0 ? '#606266' : '#3d82fe',fontWeight: isUpdate == 0 ? 'normal' : 'bold'}\">\r\n                生产日期\r\n              </div>\r\n              <div class=\"one-right\">\r\n                <el-date-picker :readonly=\"isUpdate == 0 ? true : false\" v-model=\"inventoryCheckDetail.productTime\"\r\n                  type=\"date\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" clearable></el-date-picker>\r\n              </div>\r\n            </div>\r\n            <div class=\"div-one\">\r\n              <div class=\"one-left\"\r\n                :style=\"{color: isUpdate == 0 ? '#606266' : '#3d82fe',fontWeight: isUpdate == 0 ? 'normal' : 'bold'}\">\r\n                有效日期\r\n              </div>\r\n              <div class=\"one-right\">\r\n                <el-date-picker :readonly=\"isUpdate == 0 ? true : false\" v-model=\"inventoryCheckDetail.validTime\"\r\n                  type=\"date\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" clearable></el-date-picker>\r\n              </div>\r\n            </div>\r\n            <div class=\"div-one\">\r\n              <div class=\"one-left\"\r\n                :style=\"{color: isUpdate == 0 ? '#606266' : '#3d82fe',fontWeight: isUpdate == 0 ? 'normal' : 'bold'}\">\r\n                生产批次\r\n              </div>\r\n              <div class=\"one-right\">\r\n                <el-input :readonly=\"isUpdate == 0 ? true : false\" v-model=\"inventoryCheckDetail.benchmark\" clearable>\r\n                </el-input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <p class=\"font-title-style\">备注信息</p>\r\n          <div class=\"font-div\">\r\n            <div class=\"div-one-note\" id=\"one-note\">\r\n              <div class=\"one-left\"\r\n                :style=\"{color: isUpdate == 0 ? '#606266' : '#3d82fe',fontWeight: isUpdate == 0 ? 'normal' : 'bold'}\">\r\n                备注\r\n              </div>\r\n              <div class=\"one-right\">\r\n                <el-input type=\"textarea\" v-model=\"inventoryCheckDetail.note\" :readonly=\"isUpdate == 0 ? true : false\">\r\n                </el-input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <p class=\"font-title-style\">\r\n            设备状态：{{inventoryCheckDetail.flag == 0 ? '库存中' : (inventoryCheckDetail.flag == 1 ? '维修中' :  (inventoryCheckDetail.flag == 2 ? '检测中' : '使用中'))}}\r\n          </p>\r\n          <el-timeline>\r\n            <el-timeline-item color=\"#3d82fe\" size=\"large\"\r\n              v-for=\"(activity, index) in inventoryCheckDetail.stockInOutList\" :key=\"index\">\r\n              {{activity.time}}\r\n              <span\r\n                style=\"display: inline-block;margin-left: 10px;\">{{activity.type == 0 ? (activity.flag == 1 ? '新购入库' : (activity.flag == 2 ? '归还入库' : (activity.flag == 3 ? '维修入库' : '检测入库'))) : (activity.flag == 1 ? '使用出库' : (activity.flag == 2 ? '维修出库' : '检测出库'))}}</span>\r\n            </el-timeline-item>\r\n          </el-timeline>\r\n        </div>\r\n        <div slot=\"footer\">\r\n          <el-button @click=\"dialogInventoryCheckVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"inventoryLookSure\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n      <el-dialog title=\"删除设备\" :visible.sync=\"dialogInventoryDeleteVisible\" :close-on-press-escape=\"false\"\r\n        :close-on-click-modal=\"false\" :modal-append-to-body=\"false\" :append-to-body=\"false\">\r\n        <div style=\"text-align: center;\">\r\n          <p style=\"margin: 30px;font-size: 16px;color: #4e4e4e;\">确定删除该设备？删除后不可修改</p>\r\n        </div>\r\n        <div slot=\"footer\">\r\n          <el-button @click=\"dialogInventoryDeleteVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"inventoryDeleteSure\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        typeChangeNum: 0,\r\n        stockInFormData: {\r\n          warehouseId: '',\r\n          type: 1,\r\n          menu: '',\r\n          system: '',\r\n          device: '',\r\n          model: '',\r\n          productTime: '',\r\n          validTime: '',\r\n          benchmark: '',\r\n          deviceNumber: '',\r\n          shelfNumber: '',\r\n          note: '',\r\n        },\r\n        stockInRules: {\r\n          warehouseId: [{\r\n            required: true,\r\n            message: '请选择所属仓库',\r\n            // trigger: 'blur'\r\n            trigger: ['change']\r\n          }],\r\n          menu: [{\r\n            required: true,\r\n            message: '请选择生产厂家',\r\n            trigger: ['change']\r\n          }],\r\n          system: [{\r\n            required: true,\r\n            message: '请选择所属系统',\r\n            trigger: ['change']\r\n          }],\r\n          device: [{\r\n            required: true,\r\n            message: '请选择设备名称',\r\n            trigger: ['change']\r\n          }],\r\n          model: [{\r\n            required: true,\r\n            message: '请选择设备名称',\r\n            trigger: ['change']\r\n          }],\r\n          deviceNumber: [{\r\n            required: true,\r\n            message: '请输入设备编号',\r\n            trigger: 'blur'\r\n          }],\r\n        },\r\n        typeList: [{\r\n          id: 1,\r\n          name: '新购入库'\r\n        }, {\r\n          id: 2,\r\n          name: '归还入库'\r\n        }, {\r\n          id: 3,\r\n          name: '维修后入库'\r\n        }, {\r\n          id: 4,\r\n          name: '检测后入库'\r\n        }, ],\r\n        warehouseList: [],\r\n        supplierList: [],\r\n        systemList: [],\r\n        systemSelectList: [],\r\n        deviceList: [],\r\n        deviceSelectList: [],\r\n        deviceDetail: {},\r\n\r\n        stockInList: [],\r\n        productList: [],\r\n        manageKeyword: '',\r\n        manageList: [],\r\n        stockSelection: [],\r\n        warehouseSel: {},\r\n\r\n        dialogInventoryCheckVisible: false,\r\n        inventoryCheckDetail: {},\r\n        dialogInventoryDeleteVisible: false,\r\n        inventoryDeleteDetail: {},\r\n\r\n        isUpdate: 0,\r\n\r\n        dialogInventoryCheckTwoVisible: false,\r\n        inventoryCheckDetailTwo: {},\r\n        isUpdateTwo: 0,\r\n\r\n\r\n      }\r\n    },\r\n    created() {\r\n      this.getWarehouseList();\r\n      this.getSupplierList();\r\n      this.getProductList();\r\n    },\r\n    methods: {\r\n      // 修改查看设备\r\n      warehouseManaLookTwo(row) {\r\n        console.log(row);\r\n        this.inventoryCheckDetailTwo = {};\r\n        this.inventoryCheckDetailTwo = row;\r\n\r\n        this.isUpdateTwo = 0;\r\n        this.dialogInventoryCheckTwoVisible = true;\r\n      },\r\n      updateDeviceTwo() {\r\n        this.isUpdateTwo = 1;\r\n      },\r\n      // 打印二维码\r\n      getQrcodeInvenTwo() {\r\n        let param = \"\\\"CMD\\\":\\\"2\\\",\\\"CMDDATA\\\":\\\"TEXT 30,30,\\\"TSS24.BF2\\\",0,1,1,\" + \"\\\"仓库：\" + this\r\n          .inventoryCheckDetailTwo\r\n          .warehouseName + \"\\\"\" +\r\n          \"`TEXT 30,68,\\\"TSS24.BF2\\\",0,1,1,\\\"厂家：\" + this.inventoryCheckDetailTwo.supplierName + \"\\\"\" +\r\n          \"`TEXT 30,106,\\\"TSS24.BF2\\\",0,1,1,\\\"设备名称：\" + this.inventoryCheckDetailTwo.deviceName + \"\\\"\" +\r\n          \"`TEXT 30,144,\\\"TSS24.BF2\\\",0,1,1,\\\"设备型号：\" + this.inventoryCheckDetailTwo.deviceModel + \"\\\"\" +\r\n          \"`TEXT 30,182,\\\"TSS24.BF2\\\",0,1,1,\\\"入库时间：\" + this.shellDateTwo(this.inventoryCheckDetailTwo.stockInTime) +\r\n          \"\\\"\" +\r\n          \"`TEXT 30,220,\\\"TSS24.BF2\\\",0,1,1,\\\"到期时间：\" + this.shellDateTwo(this.inventoryCheckDetailTwo.validTime) +\r\n          \"\\\"\" +\r\n          \"`TEXT 30,258,\\\"TSS24.BF2\\\",0,1,1,\\\"编号：\" + this.inventoryCheckDetailTwo.deviceNumber + \"\\\"\" +\r\n          \"`QRCODE 340,174,L,5,A,0,\" + \"\\\"\" +\r\n          this.inventoryCheckDetailTwo.deviceNumber + \"\\\"\" + \"\\\"CMDEND\";\r\n        this.$axios\r\n          .post(\"http://127.0.0.1:8079\",\r\n            param\r\n          )\r\n          .then(res => {\r\n            console.log(res);\r\n            this.$message.success({\r\n              message: \"条码打印成功\",\r\n              showClose: true,\r\n              duration: 2000\r\n            });\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n            this.$message.error({\r\n              message: err.data.message,\r\n              showClose: true,\r\n              duration: 2000\r\n            });\r\n          });\r\n      },\r\n      // 确定\r\n      inventoryLookSureTwo() {\r\n        if (this.isUpdateTwo == 0) {\r\n          this.dialogInventoryCheckTwoVisible = false;\r\n        } else {\r\n          this.$axios.post(this.$store.state.baseUrl + '/stockMsgUpdate', {\r\n              id: this.inventoryCheckDetailTwo.id,\r\n              productTime: this.inventoryCheckDetailTwo.productTime,\r\n              validTime: this.inventoryCheckDetailTwo.validTime,\r\n              benchmark: this.inventoryCheckDetailTwo.benchmark,\r\n              shelfNumber: this.inventoryCheckDetailTwo.shelfNumber,\r\n              note: this.inventoryCheckDetailTwo.note\r\n            }).then(res => {\r\n              console.log('修改设备信息');\r\n              console.log(res);\r\n              this.$message.success({\r\n                message: \"修改成功\",\r\n                showClose: true,\r\n                duration: 2000\r\n              });\r\n              this.dialogInventoryCheckTwoVisible = false;\r\n              if (this.manageKeyword == '') {\r\n                this.getManageList();\r\n              } else {\r\n                this.checkDevice();\r\n              };\r\n              this.getProductList();\r\n            })\r\n            .catch(err => {\r\n              console.log(err);\r\n              this.$message.error({\r\n                message: err.data.message,\r\n                showClose: true,\r\n                duration: 2000\r\n              });\r\n            });\r\n        }\r\n      },\r\n\r\n\r\n\r\n      // 打印二维码\r\n      getQrcodeInven() {\r\n        let param = \"\\\"CMD\\\":\\\"2\\\",\\\"CMDDATA\\\":\\\"TEXT 30,30,\\\"TSS24.BF2\\\",0,1,1,\" + \"\\\"仓库：\" + this.inventoryCheckDetail\r\n          .warehouseName + \"\\\"\" +\r\n          \"`TEXT 30,68,\\\"TSS24.BF2\\\",0,1,1,\\\"厂家：\" + this.inventoryCheckDetail.supplierName + \"\\\"\" +\r\n          \"`TEXT 30,106,\\\"TSS24.BF2\\\",0,1,1,\\\"设备名称：\" + this.inventoryCheckDetail.deviceName + \"\\\"\" +\r\n          \"`TEXT 30,144,\\\"TSS24.BF2\\\",0,1,1,\\\"设备型号：\" + this.inventoryCheckDetail.deviceModel + \"\\\"\" +\r\n          \"`TEXT 30,182,\\\"TSS24.BF2\\\",0,1,1,\\\"入库时间：\" + this.shellDateTwo(this.inventoryCheckDetail.stockInTime) + \"\\\"\" +\r\n          \"`TEXT 30,220,\\\"TSS24.BF2\\\",0,1,1,\\\"到期时间：\" + this.shellDateTwo(this.inventoryCheckDetail.validTime) + \"\\\"\" +\r\n          \"`TEXT 30,258,\\\"TSS24.BF2\\\",0,1,1,\\\"编号：\" + this.inventoryCheckDetail.deviceNumber + \"\\\"\" +\r\n          \"`QRCODE 340,174,L,5,A,0,\" + \"\\\"\" +\r\n          this.inventoryCheckDetail.deviceNumber + \"\\\"\" + \"\\\"CMDEND\";\r\n        this.$axios\r\n          .post(\"http://127.0.0.1:8079\",\r\n            param\r\n          )\r\n          .then(res => {\r\n            console.log(res);\r\n            this.$message.success({\r\n              message: \"条码打印成功\",\r\n              showClose: true,\r\n              duration: 2000\r\n            });\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n            this.$message.error({\r\n              message: err.data.message,\r\n              showClose: true,\r\n              duration: 2000\r\n            });\r\n          });\r\n      },\r\n      // 查看修改设备详情\r\n      inventoryLook(row, column, e) {\r\n        console.log(row);\r\n        console.log(column);\r\n        console.log(e);\r\n        this.inventoryCheckDetail = {};\r\n        this.inventoryCheckDetail = row;\r\n        if (column.label == '操作') {\r\n          this.inventoryDelete(row);\r\n        } else {\r\n          this.isUpdate = 0;\r\n          this.dialogInventoryCheckVisible = true;\r\n        }\r\n      },\r\n      updateDevice() {\r\n        this.isUpdate = 1;\r\n      },\r\n      // 确定\r\n      inventoryLookSure() {\r\n        if (this.isUpdate == 0) {\r\n          this.dialogInventoryCheckVisible = false;\r\n        } else {\r\n          this.$axios.post(this.$store.state.baseUrl + '/stockMsgUpdate', {\r\n              id: this.inventoryCheckDetail.id,\r\n              productTime: this.inventoryCheckDetail.productTime,\r\n              validTime: this.inventoryCheckDetail.validTime,\r\n              benchmark: this.inventoryCheckDetail.benchmark,\r\n              shelfNumber: this.inventoryCheckDetail.shelfNumber,\r\n              note: this.inventoryCheckDetail.note\r\n            }).then(res => {\r\n              console.log('修改设备信息');\r\n              console.log(res);\r\n              this.$message.success({\r\n                message: \"修改成功\",\r\n                showClose: true,\r\n                duration: 2000\r\n              });\r\n              this.dialogInventoryCheckVisible = false;\r\n              this.getProductList();\r\n              if (this.manageKeyword == '') {\r\n                this.getManageList();\r\n              } else {\r\n                this.checkDevice();\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.log(err);\r\n              this.$message.error({\r\n                message: err.data.message,\r\n                showClose: true,\r\n                duration: 2000\r\n              });\r\n            });\r\n        }\r\n      },\r\n      // 删除设备\r\n      inventoryDelete(val) {\r\n        console.log(val);\r\n        this.inventoryDeleteDetail = val;\r\n        this.dialogInventoryDeleteVisible = true;\r\n      },\r\n      // 确定\r\n      inventoryDeleteSure() {\r\n        this.$axios.post(this.$store.state.baseUrl + '/stockDelete', {\r\n            id: this.inventoryDeleteDetail.id\r\n          }).then(res => {\r\n            console.log('删除设备信息');\r\n            console.log(res);\r\n            this.$message.success({\r\n              message: \"删除成功\",\r\n              showClose: true,\r\n              duration: 2000\r\n            });\r\n            this.dialogInventoryDeleteVisible = false;\r\n            this.getProductList();\r\n            if (this.manageKeyword == '') {\r\n              this.getManageList();\r\n            } else {\r\n              this.checkDevice();\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n            this.$message.error({\r\n              message: err.data.message,\r\n              showClose: true,\r\n              duration: 2000\r\n            });\r\n          });\r\n      },\r\n      warehouseClick(val) {\r\n        console.log(val);\r\n        this.warehouseSel = val;\r\n      },\r\n      // 打印二维码\r\n      stockGetQrcode() {\r\n        this.$refs['stockInForm'].validate((valid) => {\r\n          if (valid) {\r\n            let param = \"\\\"CMD\\\":\\\"2\\\",\\\"CMDDATA\\\":\\\"TEXT 30,30,\\\"TSS24.BF2\\\",0,1,1,\" + \"\\\"仓库：\" + this.warehouseSel\r\n              .name + \"\\\"\" +\r\n              \"`TEXT 30,68,\\\"TSS24.BF2\\\",0,1,1,\\\"厂家：\" + this.stockInFormData.menu + \"\\\"\" +\r\n              \"`TEXT 30,106,\\\"TSS24.BF2\\\",0,1,1,\\\"设备名称：\" + this.stockInFormData.device + \"\\\"\" +\r\n              \"`TEXT 30,144,\\\"TSS24.BF2\\\",0,1,1,\\\"设备型号：\" + this.stockInFormData.model + \"\\\"\" +\r\n              \"`TEXT 30,182,\\\"TSS24.BF2\\\",0,1,1,\\\"入库时间：\" + this.shellDateTwo(new Date()) + \"\\\"\" +\r\n              \"`TEXT 30,220,\\\"TSS24.BF2\\\",0,1,1,\\\"到期时间：\" + this.shellDateTwo(this.stockInFormData.validTime) +\r\n              \"\\\"\" +\r\n              \"`TEXT 30,258,\\\"TSS24.BF2\\\",0,1,1,\\\"编号：\" + this.stockInFormData.deviceNumber + \"\\\"\" +\r\n              \"`QRCODE 340,174,L,5,A,0,\" + \"\\\"\" +\r\n              this.stockInFormData.deviceNumber + \"\\\"\" + \"\\\"CMDEND\";\r\n            this.$axios\r\n              .post(\"http://127.0.0.1:8079\",\r\n                param\r\n              )\r\n              .then(res => {\r\n                console.log(res);\r\n                this.$message.success({\r\n                  message: \"条码打印成功\",\r\n                  showClose: true,\r\n                  duration: 2000\r\n                });\r\n              })\r\n              .catch(err => {\r\n                console.log(err);\r\n                this.$message.error({\r\n                  message: err.data.message,\r\n                  showClose: true,\r\n                  duration: 2000\r\n                });\r\n              });\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      // 设备入库\r\n      stockInAdd(formName) {\r\n        console.log(this.stockInFormData.type);\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            if (this.stockInFormData.type == 1) {\r\n              this.$axios.post(this.$store.state.baseUrl + '/stockInDo', {\r\n                type: this.stockInFormData.type,\r\n                stockInId: '',\r\n                deviceId: this.deviceDetail.id,\r\n                productTime: this.shellDate(this.stockInFormData.productTime),\r\n                validTime: this.shellDate(this.stockInFormData.validTime),\r\n                benchmark: this.stockInFormData.benchmark,\r\n                deviceNumber: this.stockInFormData.deviceNumber,\r\n                warehouseId: this.stockInFormData.warehouseId,\r\n                shelfNumber: this.stockInFormData.shelfNumber,\r\n                note: this.stockInFormData.note\r\n              }).then((res) => {\r\n                console.log('设备入库');\r\n                console.log(res);\r\n                this.$message.success({\r\n                  message: '入库成功',\r\n                  showClose: true,\r\n                  duration: 2000\r\n                });\r\n                this.stockInList = [];\r\n                this.getProductList();\r\n                // this.stockInFormData.type = 1;\r\n                // this.stockInFormData.menu = '';\r\n                // this.stockInFormData.system = '';\r\n                // this.stockInFormData.device = '';\r\n                // this.stockInFormData.model = '';\r\n                this.stockInFormData.productTime = '';\r\n                this.stockInFormData.validTime = '';\r\n                this.stockInFormData.benchmark = '';\r\n                this.stockInFormData.deviceNumber = '';\r\n                this.stockInFormData.shelfNumber = '';\r\n                this.stockInFormData.note = '';\r\n                this.backTop();\r\n              }).catch((err) => {\r\n                console.log(err);\r\n                this.$message.error({\r\n                  message: err.data.message,\r\n                  showClose: true,\r\n                  duration: 2000\r\n                });\r\n              });\r\n            } else {\r\n              this.$axios.post(this.$store.state.baseUrl + '/stockInDo', {\r\n                warehouseId: this.stockInFormData.warehouseId,\r\n                type: this.stockInFormData.type,\r\n                stockInIdList: this.stockSelection\r\n              }).then((res) => {\r\n                console.log('设备入库');\r\n                console.log(res);\r\n                this.$message.success({\r\n                  message: '入库成功',\r\n                  showClose: true,\r\n                  duration: 2000\r\n                });\r\n                this.stockInList = [];\r\n                this.getProductList();\r\n                this.backTop();\r\n              }).catch((err) => {\r\n                console.log(err);\r\n                this.$message.error({\r\n                  message: err.data.message,\r\n                  showClose: true,\r\n                  duration: 2000\r\n                });\r\n              });\r\n            }\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      // 入库类型变化\r\n      typeChange() {\r\n        // console.log(this.stockInFormData.type);\r\n        if (this.stockInFormData.type == 1) {\r\n          this.typeChangeNum = 0;\r\n        } else {\r\n          this.typeChangeNum = 1;\r\n          this.getManageList();\r\n        }\r\n      },\r\n      getManageList() {\r\n        this.manageList = [];\r\n        this.$axios.post(this.$store.state.baseUrl + '/stockOutList', {\r\n          id: this.stockInFormData.warehouseId,\r\n          type: this.stockInFormData.type\r\n        }).then(res => {\r\n          console.log('入库类型对应出库设备列表');\r\n          console.log(res);\r\n          this.manageList = res.data;\r\n        }).catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      // 模糊搜索设备列表\r\n      checkDevice() {\r\n        this.manageList = [];\r\n        this.$axios.post(this.$store.state.baseUrl + '/stockOutList', {\r\n          id: this.stockInFormData.warehouseId,\r\n          type: this.stockInFormData.type,\r\n          keyword: this.manageKeyword\r\n        }).then(res => {\r\n          console.log('入库类型对应出库设备列表');\r\n          console.log(res);\r\n          this.manageList = res.data;\r\n        }).catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      // 选择入库设备\r\n      handleStockSelectionChange(val) {\r\n        console.log(val);\r\n        this.stockSelection = [];\r\n        for (const item of val) {\r\n          this.stockSelection.push(item.stockInId);\r\n        };\r\n        console.log(this.stockSelection);\r\n      },\r\n      // 厂家匹配\r\n      queryMenuSearch(queryString, cb) {\r\n        console.log(this.supplierList);\r\n        let restaurants = this.supplierList;\r\n        for (let items of restaurants) {\r\n          items.value = items.name;\r\n        }\r\n        let results = queryString ? restaurants.filter(this.createFilter(queryString)) : restaurants;\r\n        console.log(results);\r\n        // 调用 callback 返回建议列表的数据\r\n        cb(results);\r\n      },\r\n      createFilter(queryString) {\r\n        return (restaurant) => {\r\n          return (restaurant.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\r\n        };\r\n      },\r\n      handleMenu(item) {\r\n        console.log(item);\r\n        this.stockInFormData.menu = item.value;\r\n        console.log(this.stockInFormData.menu);\r\n        this.systemSelectList = [];\r\n        this.stockInFormData.system = '';\r\n        this.deviceSelectList = [];\r\n        this.stockInFormData.device = '';\r\n        this.stockInFormData.model = '';\r\n        for (const sys of this.systemList) {\r\n          if (sys.parentId == item.id) {\r\n            this.systemSelectList.push(sys);\r\n          }\r\n        };\r\n      },\r\n      // 系统匹配\r\n      querySystemSearch(queryString, cb) {\r\n        console.log(this.systemSelectList);\r\n        let restaurants = this.systemSelectList;\r\n        for (let items of restaurants) {\r\n          items.value = items.name;\r\n        }\r\n        let results = queryString ? restaurants.filter(this.createFilterSystem(queryString)) : restaurants;\r\n        console.log(results);\r\n        // 调用 callback 返回建议列表的数据\r\n        cb(results);\r\n      },\r\n      createFilterSystem(queryString) {\r\n        return (restaurant) => {\r\n          return (restaurant.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\r\n        };\r\n      },\r\n      handleSystem(item) {\r\n        console.log(item);\r\n        this.stockInFormData.system = item.value;\r\n        this.deviceSelectList = [];\r\n        this.stockInFormData.device = '';\r\n        this.stockInFormData.model = '';\r\n        for (const sys of this.deviceList) {\r\n          if (sys.parentId == item.id) {\r\n            this.deviceSelectList.push(sys);\r\n          }\r\n        };\r\n      },\r\n      // 设备匹配\r\n      queryDeviceSearch(queryString, cb) {\r\n        console.log(this.deviceSelectList);\r\n        let restaurants = this.deviceSelectList;\r\n        for (let items of restaurants) {\r\n          items.value = items.name;\r\n        }\r\n        let results = queryString ? restaurants.filter(this.createFilterDevice(queryString)) : restaurants;\r\n        console.log(results);\r\n        // 调用 callback 返回建议列表的数据\r\n        cb(results);\r\n      },\r\n      createFilterDevice(queryString) {\r\n        return (restaurant) => {\r\n          return (restaurant.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\r\n        };\r\n      },\r\n      handleDevice(item) {\r\n        console.log(item);\r\n        this.stockInFormData.device = item.value;\r\n        this.stockInFormData.model = item.model;\r\n        this.deviceDetail = item;\r\n      },\r\n      // 获取设备编号\r\n      getDeviceNumber() {\r\n        if (this.stockInFormData.deviceNumber == '') {\r\n          this.$axios.post(this.$store.state.baseUrl + '/deviceNumberGet').then(res => {\r\n            console.log('获取设备编号');\r\n            console.log(res);\r\n            this.stockInFormData.deviceNumber = res.data.deviceNumber;\r\n          }).catch(err => {\r\n            console.log(err);\r\n            this.stockInFormData.deviceNumber = '';\r\n            this.$message.error({\r\n              message: err.data.message,\r\n              showClose: true,\r\n              duration: 2000\r\n            })\r\n          })\r\n        }\r\n      },\r\n      // 获取该仓库下所有的产品\r\n      warehouseChange() {\r\n        console.log(this.stockInFormData.warehouseId);\r\n        this.productList = [];\r\n        this.typeChange();\r\n        for (const product of this.stockInList) {\r\n          if (this.stockInFormData.warehouseId == product.warehouseId) {\r\n            this.productList = product.deviceList;\r\n          }\r\n        };\r\n      },\r\n      // 所有产品列表\r\n      getProductList() {\r\n        this.$axios.post(this.$store.state.baseUrl + '/stockInList', {}).then((res) => {\r\n          console.log('产品列表');\r\n          console.log(res);\r\n          this.stockInList = res.data.list;\r\n          if (this.stockInFormData.warehouseId !== '') {\r\n            this.warehouseChange();\r\n          }\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        });\r\n      },\r\n      // 获取供应商列表\r\n      getSupplierList() {\r\n        this.$axios.post(this.$store.state.baseUrl + '/supplierList').then((res) => {\r\n          console.log('供应商列表');\r\n          console.log(res);\r\n          this.supplierList = res.data.supplierList;\r\n          this.systemList = res.data.systemList;\r\n          this.deviceList = res.data.deviceList;\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        });\r\n      },\r\n      // 获取仓库列表\r\n      getWarehouseList() {\r\n        this.$axios.post(this.$store.state.baseUrl + '/userWarehouseList ').then((res) => {\r\n          console.log('仓库列表');\r\n          console.log(res);\r\n          this.warehouseList = res.data;\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        });\r\n      },\r\n      // 页面回到顶部\r\n      backTop() {\r\n        let timer = null;\r\n        cancelAnimationFrame(timer);\r\n        timer = requestAnimationFrame(function fn() {\r\n          var oTop = document.body.scrollTop || document.documentElement.scrollTop;\r\n          if (oTop > 0) {\r\n            document.body.scrollTop = document.documentElement.scrollTop = oTop - 100;\r\n            timer = requestAnimationFrame(fn);\r\n          } else {\r\n            cancelAnimationFrame(timer);\r\n          }\r\n        });\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .user-admin-container {\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    .user-edit {\r\n      width: 50%;\r\n      padding: 10px;\r\n      margin-right: 15px;\r\n      background-color: #fff;\r\n      border-radius: 6px;\r\n    }\r\n\r\n    .user-table {\r\n      width: 50%;\r\n      padding: 10px;\r\n      background-color: #fff;\r\n      border-radius: 6px;\r\n    }\r\n\r\n    .input-style {\r\n      width: 100%;\r\n    }\r\n\r\n    .stockButton {\r\n      height: 34px !important;\r\n      line-height: 9px;\r\n      font-size: 12px;\r\n    }\r\n\r\n    .font-title-style {\r\n      margin-top: 20px;\r\n      margin-bottom: 10px;\r\n      color: #6a6a6a;\r\n      font-size: 18px;\r\n      font-weight: bold;\r\n      text-align: left;\r\n    }\r\n\r\n    .font-div {\r\n      border: 1px solid #ccc;\r\n      border-bottom: none;\r\n\r\n      .div-one {\r\n        height: 34px;\r\n        display: flex;\r\n        line-height: 34px;\r\n        border-bottom: 1px solid #ccc;\r\n\r\n        .one-left {\r\n          width: 95px;\r\n          border-right: 1px solid #ccc;\r\n          text-align: center;\r\n          background-color: #f2f2f2;\r\n        }\r\n\r\n        .one-right {\r\n          width: 373px;\r\n          padding-left: 10px;\r\n        }\r\n\r\n        .qrcodeClick {\r\n          width: 100px;\r\n          height: 34px;\r\n          float: right;\r\n          line-height: 34px;\r\n          background-color: #3d82fe;\r\n          color: #fff;\r\n          font-size: 13px;\r\n          text-align: center;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n\r\n      .div-one-note {\r\n        height: 100px;\r\n        display: flex;\r\n        line-height: 100px;\r\n        border-bottom: 1px solid #ccc;\r\n\r\n        .one-left {\r\n          width: 95px;\r\n          border-right: 1px solid #ccc;\r\n          text-align: center;\r\n          background-color: #f2f2f2;\r\n        }\r\n\r\n        .one-right {\r\n          width: 373px;\r\n          padding-left: 10px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\">\r\n  #user-admin {\r\n    .el-form-item__content {\r\n      text-align: left;\r\n    }\r\n\r\n    #stock {\r\n      width: 100%;\r\n\r\n      .stockInput {\r\n        width: 431px;\r\n        float: right;\r\n\r\n        .el-input__inner {\r\n          height: 34px;\r\n          line-height: 9px;\r\n          font-size: 12px;\r\n        }\r\n\r\n        .el-input__suffix {\r\n          padding-top: -10px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .el-textarea__inner {\r\n      height: 100%;\r\n      display: block;\r\n      resize: vertical;\r\n      padding: 5px 15px;\r\n      line-height: 1.5;\r\n      box-sizing: border-box;\r\n      width: 100%;\r\n      font-size: inherit;\r\n      color: #606266;\r\n      background-color: #FFF;\r\n      background-image: none;\r\n      transition: border-color .2s cubic-bezier(.645, .045, .355, 1);\r\n    }\r\n\r\n    .el-dialog__body {\r\n      padding: 0 20px;\r\n    }\r\n  }\r\n\r\n  #invenSome {\r\n    .el-input__inner {\r\n      width: 100%;\r\n      height: 34px !important;\r\n      padding-left: 0;\r\n      line-height: 34px !important;\r\n      border: none;\r\n      border-radius: 0;\r\n    }\r\n\r\n    .el-input__icon {\r\n      height: 100%;\r\n      width: 25px;\r\n      text-align: center;\r\n      transition: all .3s;\r\n      line-height: 34px;\r\n    }\r\n\r\n    .el-input--prefix .el-input__inner {\r\n      padding-left: 30px;\r\n    }\r\n\r\n    .el-input__prefix {\r\n      left: 0;\r\n      transition: all .3s;\r\n    }\r\n\r\n    .el-date-editor.el-input,\r\n    .el-date-editor.el-input__inner {\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  #one-note {\r\n    .el-input__inner {\r\n      width: 100%;\r\n      height: 100px !important;\r\n      // padding-left: 0;\r\n      line-height: 100px !important;\r\n      border: none;\r\n      border-radius: 0;\r\n    }\r\n\r\n    .el-textarea__inner {\r\n      height: 100px;\r\n      display: block;\r\n      resize: vertical;\r\n      padding: 5px 15px;\r\n      padding-left: 0;\r\n      line-height: 1.5;\r\n      box-sizing: border-box;\r\n      width: 100%;\r\n      font-size: inherit;\r\n      color: #606266;\r\n      background-color: #FFF;\r\n      background-image: none;\r\n      border: none;\r\n      border-radius: 0;\r\n      transition: border-color .2s cubic-bezier(.645, .045, .355, 1);\r\n    }\r\n  }\r\n</style>"]}]}